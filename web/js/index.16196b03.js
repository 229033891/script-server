(function(e){function t(t){for(var i,s,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={index:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-index-vendors"]),n()})({0:function(e,t,n){e.exports=n("75bd")},"0285":function(e,t,n){"use strict";n("2fd9")},"041c":function(e,t,n){"use strict";n("0daf")},"086c":function(e,t,n){},"0daf":function(e,t,n){},"0fa1":function(e,t,n){"use strict";n("9ca8")},"0ff4":function(e,t,n){},"10fd":function(e,t,n){"use strict";n("f444")},1266:function(e,t,n){},1684:function(e,t,n){},"168e":function(e,t,n){"use strict";n("e1b2"),n("d1c1")},"181b":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field file-upload-field",attrs:{"data-error":e.error,title:e.config.description}},[t("a",{ref:"uploadButton",staticClass:"btn-icon-flat btn-small waves-effect waves-circle"},[t("i",{staticClass:"material-icons"},[e._v("file_upload")])]),t("input",{ref:"fileField",staticClass:"validate",attrs:{id:e.config.name,required:e.config.required,type:"file"},on:{blur:function(t){e.focused=!1},change:e.updateValue,focus:function(t){e.focused=!0}}}),t("label",{staticClass:"file-upload-field-label",class:{active:e.value||e.focused},attrs:{for:e.config.name}},[e._v(" "+e._s(e.config.name))]),t("label",{staticClass:"file-upload-field-value",attrs:{for:e.config.name}},[e._v(e._s(e.valueText))]),t("label")])},r=[],a=n("8694"),s={props:{value:[File],config:Object},data:function(){return{error:"",focused:!1}},computed:{valueText:function(){return Object(a["D"])(this.value)?"":this.value.name}},mounted:function(){this.updateValue();var e=this.$refs.uploadButton,t=this.$refs.fileField;e.onclick=function(){t.click()}},methods:{updateValue:function(){var e=this.$refs.fileField,t=Object(a["q"])(e);this.error=this.getValidationError(t),e.setCustomValidity(this.error),this.$emit("error",this.error),this.$emit("input",t)},getValidationError:function(e){var t=Object(a["D"])(e);return this.config.required&&t?"required":""}}},o=s,c=(n("7100"),n("2877")),l=Object(c["a"])(o,i,r,!1,null,"7611d757",null);t["a"]=l.exports},"23bd":function(e,t,n){"use strict";n("d7a3")},"247b":function(e,t,n){"use strict";n("5998")},2674:function(e,t,n){},"2b5f":function(e,t,n){},"2c58":function(e,t,n){"use strict";n("7ace")},"2c6a":function(e,t,n){"use strict";n("3e9e")},"2d69":function(e,t,n){"use strict";n("e1b2"),n("971e"),n("0b11"),n("41f4"),n("b0e7")},"2df0":function(e,t,n){"use strict";n("0ff4")},"2fd9":function(e,t,n){},3658:function(e,t,n){"use strict";n("e386")},"39f0":function(e,t,n){},"3b44":function(e,t,n){},"3e2e":function(e,t,n){},"3e9e":function(e,t,n){},"41f4":function(e,t,n){"use strict";n("e1b2"),n("96c1"),n("dc35"),n("957d"),n("e8d8")},"440d":function(e,t,n){"use strict";n("1266")},"445e":function(e,t,n){"use strict";n.d(t,"b",(function(){return U}));var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"executions-log page section"},[t("router-view",{attrs:{disableProgressIndicator:e.disableProgressIndicator}})],1)},r=[],a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"execution-details container"},[t("div",[t("readonly-field",{staticClass:"readonly-field",attrs:{value:e.script,title:"Script name"}}),t("readonly-field",{staticClass:"readonly-field",attrs:{value:e.user,title:"User"}}),t("readonly-field",{staticClass:"readonly-field",attrs:{value:e.startTime,title:"Start time"}}),t("readonly-field",{staticClass:"readonly-field",attrs:{value:e.fullStatus,title:"Status"}}),t("readonly-field",{staticClass:"long readonly-field",attrs:{value:e.command,title:"Command"}})],1),t("log-panel",{ref:"logPanel",staticClass:"log-panel",attrs:{autoscrollEnabled:!1,"output-format":e.outputFormat}})],1)},s=[],o=n("5530"),c=n("8694"),l=n("2f62"),u=n("a74f"),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"readonly-field"},[t("label",[e._v(e._s(e.title))]),t("label",[e._v(e._s(e.value||"Â "))])])},h=[],f={name:"readonly-field",props:["title","value"]},p=f,m=(n("5c6d"),n("2877")),v=Object(m["a"])(p,d,h,!1,null,"b37025de",null),b=v.exports,g={name:"execution-details",props:{executionId:String},data:function(){return{script:"",user:"",startTime:"",fullStatus:"",command:"",outputFormat:"",mounted:!1}},components:{"readonly-field":b,"log-panel":u["a"]},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])("history",["selectExecution"])),{},{setLog:function(e){var t=this;this.mounted&&(this.$refs.logPanel?this.$refs.logPanel.setLog(e):this.$nextTick((function(){t.$refs.logPanel.setLog(e)})))},refreshData:function(e){Object(c["D"])(e)?(this.script="",this.user="",this.startTime="",this.fullStatus="",this.command="",this.outputFormat=null,this.setLog("")):(this.script=e.script,this.user=e.user,this.startTime=e.startTimeString,this.fullStatus=e.fullStatus,this.command=e.command,this.outputFormat=e.outputFormat,this.setLog(e.log))}}),computed:Object(o["a"])({},Object(l["c"])("history",["selectedExecution"])),mounted:function(){this.mounted=!0,this.refreshData(this.selectedExecution)},watch:{executionId:{immediate:!0,handler:function(e){this.selectExecution(e)}},selectedExecution:{immediate:!0,handler:function(e){this.refreshData(e)}}}},E=g,O=(n("5560"),Object(m["a"])(E,a,s,!1,null,"2893d5f7",null)),y=O.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e.loading&&!e.disableProgressIndicator?t("PageProgress"):t("executions-log-table",{attrs:{rowClick:e.goToLog,rows:e.executionRows}})],1)},x=[],_=(n("14d9"),n("e001")),w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"executions-log-table"},[t("div",{staticClass:"search-container"},[t("div",{staticClass:"search-panel"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"searchField",staticClass:"search-field",attrs:{autocomplete:"off",name:"searchField",placeholder:"Search"},domProps:{value:e.searchText},on:{input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),t("input",{staticClass:"search-button",attrs:{alt:e.isClearSearchButton?"Clear search":"Search",src:e.searchImage,type:"image"},on:{click:e.searchIconClickHandler}})])]),t("table",{staticClass:"highlight striped"},[t("thead",[t("tr",[t("th",{staticClass:"id-column",class:e.showSort("id"),on:{click:function(t){return e.sortBy("id")}}},[e._v("ID")]),t("th",{staticClass:"start_time-column",class:e.showSort("startTimeString"),on:{click:function(t){return e.sortBy("startTimeString")}}},[e._v("Start Time")]),t("th",{staticClass:"user-column",class:e.showSort("user"),on:{click:function(t){return e.sortBy("user")}}},[e._v("User")]),t("th",{staticClass:"script-column",class:e.showSort("script"),on:{click:function(t){return e.sortBy("script")}}},[e._v("Script")]),t("th",{staticClass:"status-column",class:e.showSort("fullStatus"),on:{click:function(t){return e.sortBy("fullStatus")}}},[e._v("Status")])])]),e.loading?e._e():t("tbody",e._l(e.filteredRows,(function(n){return t("tr",{key:n.id,on:{click:function(t){return e.rowClick(n)}}},[t("td",[e._v(e._s(n.id))]),t("td",[e._v(e._s(n.startTimeString))]),t("td",[e._v(e._s(n.user))]),t("td",[e._v(e._s(n.script))]),t("td",[e._v(e._s(n.fullStatus))])])})),0)]),e.loading?t("p",{staticClass:"loading-text"},[e._v("History will appear here")]):e._e()])},S=[],A=n("2909"),j=(n("498a"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("4e82"),n("b520")),T=n.n(j),k=n("bbc5"),L=n.n(k),D={name:"executions-log-table",props:{rows:Array,rowClick:{type:Function}},data:function(){return{searchText:"",sortColumn:"id",ascending:!1}},methods:{showSort:function(e){if(this.sortColumn===e)return this.ascending?"sorted asc":"sorted desc"},sortBy:function(e){this.sortColumn===e?this.ascending=!this.ascending:(this.ascending=!0,this.sortColumn=e)},searchIconClickHandler:function(){var e=this;""!==this.searchText&&(this.searchText=""),this.$nextTick((function(){e.$refs.searchField.focus()}))}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])("history",["loading"])),{},{isClearSearchButton:function(){return""!==this.searchText},searchImage:function(){return this.isClearSearchButton?T.a:L.a},filteredRows:function(){var e,t=(this.searchText||"").trim().toLowerCase();e=this.rows?""===t?Object(A["a"])(this.rows):this.rows.filter((function(e){return e.script.toLowerCase().includes(t)||e.user.toLowerCase().includes(t)})):[];var n=this.ascending,i=this.sortColumn;return e.sort((function(e,t){if("id"===i){var r=e[i],a=t[i];return n?r-a:a-r}if("startTimeString"===i){var s=new Date(e[i]),o=new Date(t[i]);return n?s-o:o-s}var c=e[i].toLowerCase(),l=t[i].toLowerCase();return c>l?n?1:-1:c<l?n?-1:1:0}))}})},I=D,P=(n("5d11"),Object(m["a"])(I,w,S,!1,null,"64bc6246",null)),N=P.exports,V={name:"executions-log",props:{disableProgressIndicator:{type:Boolean,default:!1}},components:{"executions-log-table":N,PageProgress:_["a"]},mounted:function(){this.init()},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])("history",["init"])),{},{goToLog:function(e){this.$router.push({path:this.$router.history.current.path+"/"+e.id})}}),computed:Object(o["a"])({},Object(l["c"])("history",{executionRows:"executions",loading:"loading"}))},F=V,R=(n("59f2"),Object(m["a"])(F,C,x,!1,null,"201f93fa",null)),M=R.exports,$={name:"executions-log-page",props:{disableProgressIndicator:{type:Boolean,default:!1}}},U=[{path:"",component:M},{path:":executionId",component:y,props:!0}],B=$,H=Object(m["a"])(B,i,r,!1,null,"289f9058",null);t["a"]=H.exports},"45f5":function(e,t,n){"use strict";n("7a30")},"47a9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("cee4"),r=i["a"].create({xsrfCookieName:"_xsrf",xsrfHeaderName:"X-XSRFToken",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}})},"489f":function(e,t,n){},"4b4b":function(e,t,n){"use strict";n("3e2e")},"4fe0":function(e,t,n){"use strict";n("8974")},5560:function(e,t,n){"use strict";n("6d5f")},5998:function(e,t,n){},"59f2":function(e,t,n){"use strict";n("7df7")},"5c3b":function(e,t,n){},"5c6d":function(e,t,n){"use strict";n("a65e")},"5ca0":function(e,t,n){"use strict";n("9b39")},"5d11":function(e,t,n){"use strict";n("a871")},"5e3c":function(e,t,n){},"5fa6":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"trim-text",rawName:"v-trim-text"}],staticClass:"parameter-separator",class:{"margin-top":!!e.separator.title}},[e.separator.title?t("h6",[e._v(e._s(e.separator.title))]):e._e(),"line"===e.separator.type?t("div",{staticClass:"separator-line"}):e._e()])},r=[],a={name:"ParameterSeparator",props:{separator:{type:Object}}},s=a,o=(n("867e"),n("2877")),c=Object(o["a"])(s,i,r,!1,null,"5f273c5e",null);t["a"]=c.exports},6033:function(e,t,n){"use strict";n("af07")},"61cb":function(e,t,n){"use strict";n("086c")},"64d7":function(e,t,n){"use strict";n("93c7")},"68de":function(e,t,n){e.exports=n.p+"img/wechart.c2b390f0.jpg"},"691d":function(e,t,n){"use strict";var i=n("8468"),r=n("47a9");t["a"]={state:{enabled:!1,authenticated:!0,admin:!1,username:null,canEditCode:!1},namespaced:!0,actions:{init:function(e){var t=e.commit;r["a"].get("auth/info").then((function(e){var n=e.data;t("SET_CONFIG",n)}))},setAuthenticated:function(e,t){var n=e.commit;n("SET_AUTHENTICATED",t)},logout:function(e){return Object(i["a"])(e),r["a"].post("logout").catch((function(e){var t=e.response.status;if(405!==t)throw e}))}},mutations:{SET_CONFIG:function(e,t){var n=t.username,i=t.admin,r=t.enabled,a=t.canEditCode;e.admin=i,e.enabled=r,e.username=n,e.canEditCode=a},SET_AUTHENTICATED:function(e,t){e.authenticated=t}}}},"6a14":function(e,t,n){"use strict";n("8f07")},"6ac7":function(e,t,n){},"6d5f":function(e,t,n){},7100:function(e,t,n){"use strict";n("e91a")},"75bd":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("a460");var i=n("8694"),r=n("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"main-app"}},[t("AppLayout",{ref:"appLayout",attrs:{loading:e.pageLoading},scopedSlots:e._u([{key:"sidebar",fn:function(){return[t("MainAppSidebar")]},proxy:!0},{key:"header",fn:function(){return[t("router-view",{attrs:{name:"header"}})]},proxy:!0},{key:"content",fn:function(){return[t("router-view")]},proxy:!0}])}),t("DocumentTitleManager"),t("FaviconManager")],1)},s=[],o=n("5530"),c=(n("a2f0"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-layout"},[t("div",{ref:"appSidebar",staticClass:"app-sidebar shadow-8dp",class:{collapsed:!e.showSidebar}},[e._t("sidebar")],2),t("div",{staticClass:"app-content"},[t("div",{ref:"contentHeader",staticClass:"content-header",class:{borderless:!e.hasHeader,"shadow-8dp":e.hasHeader}},[t("a",{staticClass:"btn-flat app-menu-button",on:{click:function(t){return e.setSidebarVisibility(!0)}}},[t("i",{staticClass:"material-icons"},[e._v("menu")])]),e._t("header"),e.loading?t("div",{staticClass:"progress"},[t("div",{staticClass:"indeterminate"})]):e._e()],2),t("div",{ref:"contentPanel",staticClass:"content-panel"},[e._t("content")],2)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSidebar,expression:"showSidebar"}],staticClass:"sidenav-overlay",on:{click:function(t){return e.setSidebarVisibility(!1)}}})])}),l=[],u=(n("a630"),n("3ca3"),n("d3b7"),n("159b"),{name:"AppLayout",props:{loading:Boolean},data:function(){return{narrowView:!1,showSidebar:!1,hasHeader:!1}},mounted:function(){var e=this,t=this.$refs.contentHeader,n=this.$refs.contentPanel;h(t,n,this);var i=getComputedStyle(this.$refs.appSidebar),r=function(){var t=i.position;e.narrowView||e.setSidebarVisibility(!1),e.narrowView="absolute"===t};window.addEventListener("resize",r),r()},methods:{setSidebarVisibility:function(e){this.showSidebar=e}}});function d(e,t,n){if(e.childNodes){for(var r=0,a=0,s=Array.from(e.childNodes);a<s.length;a++){var o=s[a];Object(i["w"])(o,"app-menu-button")||(1===o.nodeType&&"absolute"===window.getComputedStyle(o).position||Object(i["D"])(o.offsetHeight)||(r=Math.max(r,o.offsetHeight)))}t.hasHeader=r>=1,t.$nextTick((function(){n.style.maxHeight="calc(100% - "+e.offsetHeight+"px)"}))}}function h(e,t,n){var i=new MutationObserver((function(i){i.forEach((function(){d(e,n,t)}))}));i.observe(e,{childList:!0,subtree:!0,characterData:!0}),n.$nextTick((function(){d(e,n,t)}))}var f,p,m=u,v=(n("247b"),n("2877")),b=Object(v["a"])(m,c,l,!1,null,"3a6496cb",null),g=b.exports,E=n("2f62"),O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome-panel"},[t("img",{staticClass:"logo-image",attrs:{src:e.imageSrc,alt:"script server logo"},on:{click:e.handleClick}}),e._m(0)])},y=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome-text"},[e._v(" Welcome to the Script Server. "),t("br"),e._v(" To start, select one of the scripts. ")])}],C=n("e5f5"),x=n.n(C),_=n("68de"),w=n.n(_),S={name:"AppWelcomePanel",data:function(){return{imageSrc:x.a,wechartImageSrc:w.a,timeoutId:null}},methods:Object(o["a"])(Object(o["a"])({},Object(E["b"])("page",["setLoading"])),{},{handleClick:function(){var e=this;this.imageSrc=this.wechartImageSrc,clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){e.imageSrc=x.a}),5e3)}}),mounted:function(){this.setLoading(!1)},beforeDestroy:function(){clearTimeout(this.timeoutId)}},A=S,j=(n("041c"),Object(v["a"])(A,O,y,!1,null,"4939e83a",null)),T=j.exports,k=function(){var e=this,t=e._self._c;return t("div")},L=[],D=document.title,I={name:"DocumentTitleManager",computed:Object(o["a"])(Object(o["a"])({},Object(E["c"])("scripts",{selectedScript:"selectedScript"})),Object(E["c"])("serverConfig",{serverName:function(e){return e.serverName||D},enableScriptTitles:function(e){return Object(i["D"])(e.enableScriptTitles)||e.enableScriptTitles}})),methods:{updateTitle:function(){this.enableScriptTitles&&!Object(i["D"])(this.selectedScript)?document.title=this.selectedScript+" - "+this.serverName:document.title=this.serverName}},watch:{serverName:function(){this.updateTitle()},selectedScript:function(){this.updateTitle()},enableScriptTitles:function(){this.updateTitle()}}},P=I,N=Object(v["a"])(P,k,L,!1,null,"72361fca",null),V=N.exports,F=function(){var e=this,t=e._self._c;return t("div")},R=[],$=(n("cb29"),X()),U="#66FF00",B="#444444",H="defaultFavicon",W=new Image;function z(){H="defaultFavicon",q($)}function G(){H="executingFavicon",Object(i["D"])(f)?q($):q(f)}function q(e){for(var t=document.getElementsByTagName("head")[0],n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if("LINK"===i.tagName&&"image/x-icon"===i.type)return void t.replaceChild(e,i)}t.appendChild(e)}function J(){switch(H){case"executingFavicon":return void q(f);case"finishedFavicon":return void q(p);default:q($)}}function K(e){var t=document.createElement("link");return t.type="image/x-icon",t.rel="shortcut icon",t.href=e,t}function X(){return K("favicon.ico")}function Q(e){var t=Z(e),n=t.canvas,i=t.context,r=e.width/5,a=e.width/4*3,s=e.height/4*3;return i.beginPath(),i.arc(a,s,r,0,2*Math.PI,!0),i.fillStyle=U,i.fill(),i.lineWidth=2,i.strokeStyle=B,i.stroke(),K(n.toDataURL("image/x-icon"))}function Y(e){var t=Z(e),n=t.canvas,i=t.context,r=e.width/4*3,a=e.height/4*3;function s(e,t){i.beginPath(),i.moveTo(r-10,a-8),i.lineTo(r,a+8),i.lineTo(r+10,a-8),i.lineWidth=e,i.strokeStyle=t,i.stroke()}return s(8,B),s(5,U),K(n.toDataURL("image/x-icon"))}function Z(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),{canvas:t,context:n}}W.src=$.href,W.onload=function(){f=Q(W),p=Y(W),J()};var ee={name:"FaviconManager",mounted:function(){z()},computed:{hasExecuting:function(){var e=this.$store.state.executions.executors,t=!1;return Object(i["o"])(e,(function(e,n){"executing"===n.state.status&&(t=!0)})),t}},watch:{hasExecuting:function(e){e?G():z()}}},te=ee,ne=Object(v["a"])(te,F,R,!1,null,"3318da1c",null),ie=ne.exports,re=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-app-sidebar"},[t("div",{staticClass:"list-header"},[t("router-link",{staticClass:"header server-header",class:{"header-gt-15-chars":e.serverName&&e.serverName.length>=15,"header-gt-18-chars":e.serverName&&e.serverName.length>=18,"header-gt-21-chars":e.serverName&&e.serverName.length>=21},attrs:{title:e.versionString,to:"/"}},[e._v(" "+e._s(e.serverName||"Script server")+" ")]),t("SearchPanel",{model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),t("div",{staticClass:"header-link"},[e.adminUser?t("a",{staticClass:"primary-color-text",attrs:{href:"admin.html"}},[t("i",{staticClass:"material-icons"},[e._v("settings")])]):t("a",{attrs:{href:"https://py.cschub.vip/",target:"_blank"}},[t("svg",{staticClass:"svg-icon github-icon",attrs:{"aria-hidden":"true",height:"20px",viewBox:"0 0 16 16",width:"20px"}},[t("path",{attrs:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"}})])])])],1),t("ScriptsList",{attrs:{"search-text":e.searchText}}),t("div",{staticClass:"bottom-panel"},[t("router-link",{staticClass:"waves-effect btn-flat history-button primary-color-text",attrs:{to:"/history"}},[e._v(" History ")]),t("a",{staticClass:"waves-effect btn-flat ssrs-button",attrs:{href:"https://ssrs.cschub.vip/Reports/browse",target:"_blank"}},[e._v(" SSRS ")]),t("a",{staticClass:"waves-effect btn-flat label-button",attrs:{href:"https://bt.cschub.vip/bartender",target:"_blank"}},[e._v(" Label ")])],1),t("div",{staticClass:"separator-line"}),e.authEnabled?t("div",{staticClass:"bottom-panel logout-panel"},[t("span",{staticClass:"username"},[e._v(e._s(e.username))]),t("a",{staticClass:"btn-icon-flat waves-effect logout-button waves-circle",on:{click:e.logout}},[t("i",{staticClass:"material-icons primary-color-text"},[e._v("power_settings_new")])])]):e._e()],1)},ae=[],se=(n("b0c0"),function(){var e=this,t=e._self._c;return t("div",{ref:"scriptList",staticClass:"scripts-list collection"},[e._l(e.items,(function(n){return[n.isGroup?t("ScriptListGroup",{key:n.name,attrs:{group:n},on:{"group-clicked":function(t){return e.groupClicked(t)}}}):t("ScriptListItem",{key:n.name,attrs:{script:n}})]}))],2)}),oe=[],ce=n("b85c"),le=(n("d81d"),n("4de4"),n("caad"),n("2532"),n("99af4"),n("4e82"),n("fb6a"),n("7db0"),n("14d9"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"script-list-group",class:{active:e.group.isActive}},[t("a",{key:e.group.name,staticClass:"collection-item waves-effect script-group",on:{click:function(t){return e.$emit("group-clicked",e.group.name)}}},[t("span",[e._v(e._s(e.group.name))]),t("i",{staticClass:"material-icons"},[e._v(" "+e._s(e.group.isActive?"expand_less":"expand_more")+" ")])]),e._l(e.group.scripts,(function(n){return e.group.isActive?t("ScriptListItem",{key:n.name,attrs:{script:n}}):e._e()}))],2)}),ue=[],de=function(){var e=this,t=e._self._c;return t("router-link",{staticClass:"collection-item waves-effect script-list-item",class:{active:e.descriptor.active,"parsing-failed":e.descriptor.parsingFailed},attrs:{to:"/"+e.descriptor.hash,title:e.descriptor.parsingFailed?"Failed to parse config file":""}},[e._v(" "+e._s(e.descriptor.name)+" "),t("div",{staticClass:"menu-item-state",class:e.descriptor.state},[t("i",{staticClass:"material-icons check-icon"},[e._v("check")]),t("i",{staticClass:"material-icons failed-icon"},[e._v("priority_high")]),t("div",{staticClass:"preloader-wrapper active"},[t("div",{staticClass:"spinner-layer"},[t("div",{staticClass:"circle-clipper left"},[t("div",{staticClass:"circle"})]),t("div",{staticClass:"gap-patch"},[t("div",{staticClass:"circle"})]),t("div",{staticClass:"circle-clipper right"},[t("div",{staticClass:"circle"})])])])])])},he=[],fe=(n("168e"),"list"),pe="multiselect",me="server_file",ve="file_upload",be=[fe,pe,me];function ge(e,t){e.type===pe?e.multiselect=!0:e.type===ve?e.default=null:Ee(e)&&(e.loadFiles=t)}function Ee(e){return e.type===me&&e.fileRecursive}function Oe(e){return encodeURIComponent(e)}var ye={name:"ScriptListItem",props:{script:{type:Object,default:null}},computed:Object(o["a"])({descriptor:function(){return{name:this.script.name,state:this.getState(this.script.name),active:this.selectedScript===this.script.name,hash:this.toHash(this.script.name),parsingFailed:this.script.parsing_failed}}},Object(E["c"])("scripts",["selectedScript"])),methods:{getState:function(e){var t="idle";return this.script.parsing_failed?"cannot-parse":(Object(i["o"])(this.$store.state.executions.executors,(function(n,i){i.state.scriptName===e&&(t=i.state.status)})),t)},toHash:Oe}},Ce=ye,xe=(n("6033"),Object(v["a"])(Ce,de,he,!1,null,"50135e92",null)),_e=xe.exports,we={name:"ScriptListGroup",components:{ScriptListItem:_e},props:{group:{type:Object}}},Se=we,Ae=(n("e912"),Object(v["a"])(Se,le,ue,!1,null,"66ff4abd",null)),je=Ae.exports,Te={name:"ScriptsList",components:{ScriptListGroup:je,ScriptListItem:_e},props:{searchText:{type:String,default:null}},data:function(){return{activeGroup:null}},computed:Object(o["a"])(Object(o["a"])({},Object(E["c"])("scripts",["scripts","selectedScript"])),{},{items:function(){var e,t=this,n=this.scripts.filter((function(e){return!Object(i["x"])(e.group)})).map((function(e){return e.group})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return{name:e,isGroup:!0,scripts:[],isActive:t.activeGroup===e}})),r=this.scripts.filter((function(e){return Object(i["A"])(t.searchText)||e.name.toLowerCase().includes(t.searchText.toLowerCase())})),a=Object(ce["a"])(r.slice());try{var s=function(){var t=e.value;if(Object(i["x"])(t.group))return"continue";var a=n.find((function(e){return e.name===t.group}));a.scripts.push(t),Object(i["K"])(r,t)};for(a.s();!(e=a.n()).done;)s()}catch(l){a.e(l)}finally{a.f()}var o=n.filter((function(e){return!Object(i["y"])(e.scripts)})),c=r.concat(o);return c.sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())})),c}}),methods:{groupClicked:function(e){Object(i["D"])(e)||this.activeGroup===e?this.activeGroup=null:this.activeGroup=e}},watch:{selectedScript:{immediate:!0,handler:function(e){if(!Object(i["D"])(e)){var t=this.scripts.find((function(t){return t.name===e}));if(!Object(i["D"])(t)&&!Object(i["D"])(t.group)){var n=this.items.find((function(e){return e.isGroup&&e.name===t.group}));Object(i["D"])(n)||n.isActive||(this.activeGroup=n.name)}}}}}},ke=Te,Le=(n("0285"),Object(v["a"])(ke,se,oe,!1,null,"1f9d5ae4",null)),De=Le.exports,Ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-panel-root"},[t("div",{staticClass:"search-panel",class:{collapsed:!e.showSearchField}},[t("input",{ref:"searchField",staticClass:"search-field",attrs:{disabled:!e.showSearchField,autocomplete:"off",name:"searchField",placeholder:"Search script",type:"search"},domProps:{value:e.value},on:{blur:e.focusLostHandler,input:function(t){return e.$emit("input",t.target.value)}}})]),t("input",{staticClass:"search-button",attrs:{alt:e.showSearchField?"Clear search":"Search script",src:e.searchImage,type:"image"},on:{click:e.clickHandler,mousedown:e.mouseDownHandler}})])},Pe=[],Ne=n("b520"),Ve=n.n(Ne),Fe=n("bbc5"),Re=n.n(Fe),Me={name:"SearchPanel",data:function(){return{showSearchField:!1,openSearchOnTheNextClick:!0}},props:{value:{type:String,default:""}},methods:{clickHandler:function(){var e=this;this.openSearchOnTheNextClick?(this.showSearchField=!0,this.$nextTick((function(){e.$refs.searchField.focus()}))):(this.showSearchField=!1,Object(i["M"])(this.$refs.searchField,"",!0)),this.openSearchOnTheNextClick=!0},mouseDownHandler:function(){this.openSearchOnTheNextClick=!this.showSearchField},focusLostHandler:function(){""===this.value&&(this.showSearchField=!1)}},computed:{searchImage:function(){return this.showSearchField?Ve.a:Re.a}}},$e=Me,Ue=(n("3658"),Object(v["a"])($e,Ie,Pe,!1,null,"d2c4013e",null)),Be=Ue.exports,He={name:"MainAppSidebar",components:{SearchPanel:Be,ScriptsList:De},data:function(){return{searchText:""}},computed:Object(o["a"])(Object(o["a"])({},Object(E["c"])("serverConfig",{versionString:function(e){return e.version?"v"+e.version:null},serverName:"serverName"})),Object(E["c"])("auth",{adminUser:"admin",username:"username",authEnabled:"enabled"})),methods:Object(o["a"])({},Object(E["b"])(["logout"]))},We=He,ze=(n("85e1"),Object(v["a"])(We,re,ae,!1,null,"51e167c2",null)),Ge=ze.exports,qe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-app-content"},[t("ScriptView",{ref:"scriptView",class:{collapsed:e.showError},attrs:{hideExecutionControls:e.showError}}),e.showError?t("div",{staticClass:"error-panel"},[e.authenticated?e.scriptLoadError&&e.notFound?t("p",[e._v(" Failed to load script info: script '"+e._s(e.selectedScript)+"' not found ")]):e.scriptLoadError&&e.cannotParse?t("p",[e._v(" Cannot parse script config file, please contact the administrator ")]):e.scriptLoadError?t("p",[e._v(" Failed to load script info. Try to reload the page. Error message: "),t("br"),e._v(" "+e._s(e.scriptLoadError)+" ")]):e._e():t("p",[e._v(" Credentials expired, please "),t("a",{attrs:{href:"javascript:void(0)",onclick:"location.reload()"}},[e._v("relogin")])])]):e._e()],1)},Je=[],Ke=(n("2ca0"),n("e9c4"),n("a434"),n("d9e2"),n("ac1f"),n("00b4"),0);function Xe(e,t){var n=this;/^((https?)|(wss?)):\/\//.test(e)?this.url=e:this.url=Object(i["u"])(e);var r=this;this._finished=!1,this._observer=t,this._id=Ke++,this.queuedMessages=[];try{this._websocket=new WebSocket(this.url)}catch(a){return void(this._observer.onError&&this._observer.onError(a))}this._websocket.addEventListener("open",(function(){var e,t=Object(ce["a"])(n.queuedMessages);try{for(t.s();!(e=t.n()).done;){var i=e.value;n._websocket.send(i)}}catch(r){t.e(r)}finally{t.f()}})),this._websocket.addEventListener("close",(function(e){r._finished||(r._finished=!0,1e3!==e.code?403!==e.code?401!==e.code?404!==e.code?r._observer.onError&&r._observer.onError(new i["d"](e.code,e.reason)):r._observer.onError(new i["b"](e.code,e.reason)):r._observer.onError(new i["c"](e.code,e.reason)):r._observer.onError(new i["a"](e.code,e.reason)):r._observer.onCompleted())})),this._websocket.addEventListener("message",(function(e){r._observer.onNext(e.data)})),this.close=function(){r._finished=!0,r._websocket.close()},this.send=function(e){if(Object(i["E"])(r._websocket)||r._finished)return console.log("Attempt to write to closed socket. Data: "+e),!1;Object(i["F"])(r._websocket)?this.queuedMessages.push(e):r._websocket.send(e)},this.isClosed=function(){return Object(i["E"])(r._websocket)||r._finished},this.isOpen=function(){return Object(i["G"])(r._websocket)}}var Qe=n("47a9"),Ye=n("b8ce"),Ze=n.n(Ye),et={websocket:null,reconnectionAttempt:0},tt=500;function nt(e,t,n,i){var r={parameter:e,value:t,clientStateVersion:i};n.send(JSON.stringify({event:"parameterValue",data:r}))}function it(e,t,n,i){var r={parameterValues:e,clientModelId:t,clientStateVersion:i};n.send(JSON.stringify({event:"reloadModelValues",data:r}))}var rt="Failed to find the script",at="Cannot parse script config file",st=function(){return{state:{scriptConfig:null,loadError:null,parameters:[],sentValues:{},loading:!1,clientStateVersion:0,preloadScript:null},namespaced:!0,actions:{reloadScript:function(e,t){var n=e.state,r=e.commit,a=e.dispatch,s=t.selectedScript;a("setConnection",null),r("RESET_CONFIG"),Object(i["A"])(s)||(r("SET_LOADING",!0),ot(n,et,r,a,s))},reloadModel:function(e,t){e.state;var n=e.commit,i=e.rootState,r=t.scriptName,a=t.parameterValues,s=t.clientModelId;i.scripts.selectedScript===r&&(n("SET_LOADING",!0),it(a,s,et.websocket),n("SET_SENT_VALUES",a))},sendParameterValue:function(e,t){var n=e.state,r=e.commit,a=t.parameterName,s=t.value,o=et.websocket;if(!Object(i["D"])(o)&&!o.isClosed(o)){var c=n.clientStateVersion+1;if(r("SET_CLIENT_STATE_VERSION",c),n.sentValues[a]!==s){var l,u=Object(ce["a"])(n.parameters);try{for(u.s();!(l=u.n()).done;){var d=l.value;d.requiredParameters&&d.requiredParameters.includes(a)&&r("SET_AWAIT_DEPENDENCY",{parameterName:d.name,shouldAwait:!0,newStateVersion:c})}}catch(h){u.e(h)}finally{u.f()}r("SET_SENT_VALUE",{parameterName:a,value:s}),nt(a,s,o,c)}}},setConnection:function(e,t){e.state,e.dispatch;var n=et.websocket;Object(i["D"])(n)||n.isClosed()||n.close(),et.websocket=t},resendValues:function(e){var t=e.state,n=et.websocket;Object(i["D"])(n)||n.isClosed()||Object(i["o"])(t.sentValues,(function(e,t){return nt(e,t,n)}))}},mutations:{RESET_CONFIG:function(e){et.reconnectionAttempt=0,e.scriptConfig=null,e.parameters=[],e.loadError=null,e.loading=!1,e.sentValues={},e.preloadScript=null},SET_ERROR:function(e,t){e.loadError=t,e.loading=!1},UPDATE_SCRIPT_CONFIG:function(e,t){e.scriptConfig=t;var n,a=t.parameters,s=Object(ce["a"])(a);try{for(s.s();!(n=s.n()).done;){var o=n.value;ct(o,e.scriptConfig)}}catch(u){s.e(u)}finally{s.f()}if(Object(i["y"])(e.parameters))e.parameters=a;else{var c=Object(i["P"])(e.parameters,"name"),l=Object(i["P"])(a,"name");Object(i["o"])(c,(function(t,n){t in l||Object(i["K"])(e.parameters,n)})),Object(i["o"])(l,(function(t,n){if(t in c){var i=e.parameters.indexOf(c[t]);r["a"].set(e.parameters,i,n)}else e.parameters.push(n)}))}},ADD_PARAMETER:function(e,t){ct(t,e.scriptConfig),e.parameters.push(t)},UPDATE_PARAMETER:function(e,t){for(var n=-1,i=e.parameters,a=0;a<i.length;a++){var s=i[a];if(s["name"]===t["name"]){n=a;break}}if(n<0)console.log("Failed to find parameter "+t["name"]);else{var o=i[n];t.loading=o.loading,t.awaitedVersion=o.awaitedVersion,ct(t,e.scriptConfig),r["a"].set(i,n,t)}},REMOVE_PARAMETER:function(e,t){for(var n=t.parameterName,i=-1,r=e.parameters,a=0;a<r.length;a++){var s=r[a];if(s["name"]===n){i=a;break}}i<0?console.log("Failed to find parameter "+n):r.splice(i,1)},SET_SENT_VALUE:function(e,t){var n=t.parameterName,i=t.value;e.sentValues[n]=i},SET_SENT_VALUES:function(e,t){e.sentValues=Ze()(t)},SET_LOADING:function(e,t){e.loading=t},SET_CLIENT_STATE_VERSION:function(e,t){e.clientStateVersion=t},SET_AWAIT_DEPENDENCY:function(e,t){var n,i=t.parameterName,a=t.shouldAwait,s=t.newStateVersion,o=Object(ce["a"])(e.parameters);try{for(o.s();!(n=o.n()).done;){var c=n.value;c.name===i&&(r["a"].set(c,"loading",a),c.awaitedVersion=s)}}catch(l){o.e(l)}finally{o.f()}},RESET_AWAITED_DEPENDENCIES:function(e,t){var n=t.clientStateVersion,a=t.singleParameterName;if(n){var s,o=Object(ce["a"])(e.parameters);try{for(o.s();!(s=o.n()).done;){var c=s.value;(Object(i["D"])(a)||c.name===a)&&(c.awaitedVersion&&c.awaitedVersion<=n&&(r["a"].set(c,"loading",!1),c.awaitedVersion=null))}}catch(l){o.e(l)}finally{o.f()}}},SET_PRELOAD_SCRIPT:function(e,t){e.preloadScript=t}}}};function ot(e,t,n,r,a){var s=!1;Object(i["D"])(e.scriptConfig)||Object(i["z"])(e.sentValues)||(s=!0);var o="scripts/"+encodeURIComponent(a)+"?initWithValues="+s,c=new Xe(o,{onNext:function(a){t.reconnectionAttempt=0,!0;var s=JSON.parse(a),o=s.event,l=s.data,u=s.data.clientStateVersion;return Object(i["i"])(["initialConfig","reloadedConfig","clientStateVersionAccepted"],o)?n("RESET_AWAITED_DEPENDENCIES",{clientStateVersion:u}):"parameterChanged"===o&&n("RESET_AWAITED_DEPENDENCIES",{clientStateVersion:u,singleParameterName:null===l||void 0===l?void 0:l.name}),Object(i["D"])(e.scriptConfig)&&"initialConfig"!==o?(console.error('Expected "initialConfig" event, but got '+o),n("SET_ERROR","Unexpected error occurred"),void c.close()):"initialConfig"===o?(n("UPDATE_SCRIPT_CONFIG",l),n("SET_LOADING",!1),void r("resendValues")):"reloadedConfig"===o?(n("UPDATE_SCRIPT_CONFIG",l),void n("SET_LOADING",!1)):void("parameterChanged"!==o?"parameterAdded"!==o?"parameterRemoved"!==o?"preloadScript"===o&&n("SET_PRELOAD_SCRIPT",l):n("REMOVE_PARAMETER",l):n("ADD_PARAMETER",l):n("UPDATE_PARAMETER",l))},onError:function(s){if(Object(i["H"])(s),s instanceof i["d"])return 422===s.code?void n("SET_ERROR","".concat(s.reason,' "').concat(a,'"')):(console.log("Socket closed. code="+s.code+", reason="+s.reason),Object(i["D"])(e.scriptConfig)?void n("SET_ERROR","Failed to connect to the server"):(t.reconnectionAttempt++,t.reconnectionAttempt>5?void n("SET_ERROR","Failed to reconnect"):void setTimeout((function(){console.log("Trying to reconnect. Attempt "+t.reconnectionAttempt),ot(e,t,n,r,a)}),(t.reconnectionAttempt-1)*tt)));s instanceof i["a"]?n("SET_ERROR","Access to the script is denied"):s instanceof i["c"]?n("SET_ERROR","Failed to authenticate the user"):s instanceof i["b"]&&404===s.code?n("SET_ERROR","".concat(rt,' "').concat(a,'"')):n("SET_ERROR","Unexpected error occurred")},onComplete:function(){console.log("Websocket completed. This should not be possible for a config socket"),n("SET_ERROR","Connection to server closed")}});s&&c.send(JSON.stringify({event:"initialValues",data:{parameterValues:e.sentValues}})),r("setConnection",c)}function ct(e,t){ge(e,(function(n){return lt(t,e.name,n)}))}function lt(e,t,n){if(Object(i["D"])(e))throw Error("Config is not available");var r=encodeURIComponent(e.name),a=encodeURIComponent(t),s="scripts/".concat(r,"/").concat(a,"/list-files"),o=Object(i["Q"])({path:n,id:e.id}),c=s+"?"+o;return Qe["a"].get(c).then((function(e){var t=e.data;return t}))}var ut=function(){var e=this,t=e._self._c;return t("div",{staticClass:"script-view",attrs:{id:e.id}},[e.loading&&!e.scriptConfig?t("ScriptLoadingText",{attrs:{loading:e.loading,script:e.selectedScript}}):e._e(),t("p",{directives:[{name:"show",rawName:"v-show",value:e.scriptDescription,expression:"scriptDescription"}],staticClass:"script-description",domProps:{innerHTML:e._s(e.formattedDescription)}}),e.hasParameters?t("ScriptParametersView",{ref:"parametersView"}):e._e(),t("div",{staticClass:"actions-panel",class:{"no-parameters":!e.hasParameters}},[t("button",{staticClass:"button-execute btn",class:{disabled:!e.enableExecuteButton},attrs:{disabled:!e.enableExecuteButton||e.scheduleMode},on:{click:e.executeScript}},[e._v(" Execute ")]),t("button",{staticClass:"button-stop btn",class:{disabled:!e.enableStopButton,"red lighten-1":!e.killEnabled,"red darken-3":e.killEnabled},attrs:{disabled:!e.enableStopButton},on:{click:e.stopScript}},[e._v(" "+e._s(e.stopButtonLabel)+" ")]),e.schedulable?t("div",{staticClass:"button-gap"}):e._e(),e.schedulable?t("ScheduleButton",{attrs:{disabled:!e.enableScheduleButton},on:{click:e.openSchedule}}):e._e()],1),e.inputPromptText?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideExecutionControls,expression:"!hideExecutionControls"}],staticClass:"script-input-panel input-field"},[t("label",{staticClass:"script-input-label",attrs:{for:"inputField-"+e.id}},[e._v(e._s(e.inputPromptText))]),t("input",{ref:"inputField",staticClass:"script-input-field",attrs:{id:"inputField-"+e.id,type:"text"},on:{keyup:e.inputKeyUpHandler}})]):e._e(),t("LogPanel",{directives:[{name:"show",rawName:"v-show",value:e.showLog&&!e.hasErrors&&!e.hideExecutionControls,expression:"showLog && !hasErrors && !hideExecutionControls"}],ref:"logPanel",attrs:{outputFormat:e.outputFormat}}),!e.preloadOutput||e.showLog||e.hasErrors||e.hideExecutionControls?e._e():t("LogPanel",{ref:"preloadOutputPanel",attrs:{"output-format":e.preloadOutputFormat}}),e.hasErrors?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideExecutionControls,expression:"!hideExecutionControls"}],staticClass:"validation-panel"},[t("h6",{staticClass:"header"},[e._v("Validation failed. Errors list:")]),t("ul",{staticClass:"validation-errors-list"},e._l(e.shownErrors,(function(n){return t("li",[e._v(e._s(n))])})),0)]):e._e(),e.downloadableFiles&&e.downloadableFiles.length>0&&!e.scheduleMode?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideExecutionControls,expression:"!hideExecutionControls"}],staticClass:"files-download-panel"},e._l(e.downloadableFiles,(function(n){return t("a",{staticClass:"waves-effect btn-flat",attrs:{download:n.filename,href:n.url,target:"_blank"}},[e._v(" "+e._s(n.filename)+" "),t("i",{staticClass:"material-icons right"},[e._v("file_download")])])})),0):e._e(),e.hideExecutionControls?e._e():t("ScriptViewScheduleHolder",{ref:"scheduleHolder",attrs:{scriptConfigComponentsHeight:e.scriptConfigComponentsHeight},on:{close:function(t){e.scheduleMode=!1}}})],1)},dt=[],ht=(n("a4d3"),n("e01a"),n("498a"),n("a74f")),ft=function(){var e=this,t=e._self._c;return t("button",{directives:[{name:"trim-text",rawName:"v-trim-text"}],staticClass:"schedule-button btn btn-flat waves-effect",class:{"short-view":e.shortView,disabled:e.disabled},attrs:{disabled:e.disabled,title:"Schedule"},on:{click:e.onClick}},[e.shortView?t("i",{staticClass:"material-icons left"},[e._v("date_range")]):t("span",[e._v("Schedule")])])},pt=[],mt={name:"ScheduleButton",props:{disabled:{type:Boolean,default:!1}},data:function(){return{widthForText:0,shortView:!0}},mounted:function(){window.addEventListener("resize",this.onResize),this.onResize()},methods:{onResize:function(){this.shortView=window.innerWidth<=400},onClick:function(){this.$emit("click")}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)}},vt=mt,bt=(n("45f5"),Object(v["a"])(vt,ft,pt,!1,null,"b2f8e4d6",null)),gt=bt.exports,Et=function(){var e=this,t=e._self._c;return t("p",{staticClass:"script-loading-text"},[e._v(" Loading "+e._s(e.loadingDots)+" ")])},Ot=[],yt=(n("a9e3"),{name:"ScriptLoadingText",data:function(){return{loadingDots:"",loaderTimer:null,counter:0}},props:{loading:{type:Boolean,default:!1},script:{type:String,default:null},delay:{type:Number,default:1e3}},methods:{updateLoadingIndicator:function(){var e=this;this.loading?(this.loaderTimer&&clearInterval(this.loaderTimer),this.loadingDots="..",this.counter=0,this.loaderTimer=setInterval((function(){if(e.counter++,!(e.counter>30))if(30!==e.counter){if(6===e.counter||13===e.counter||21===e.counter){var t=0;while(t++<10){var n=Ct[Object(i["I"])(0,Ct.length)];if(!e.loadingDots.includes(n))return void(e.loadingDots+=" "+n+" ..")}}e.loadingDots+="."}else e.loadingDots+=" loading time is unknown"}),this.delay)):this.loadingDots=""}},watch:{script:{immediate:!0,handler:function(){this.updateLoadingIndicator()}},loading:{immediate:!0,handler:function(){this.updateLoadingIndicator()}}},destroyed:function(){this.loaderTimer&&(clearInterval(this.loaderTimer),this.loaderTimer=null)}}),Ct=["wait a bit more","doing my best","don't leave me","thanks for waiting","Zzzzz","42","I'm still alive","what a lovely weather today","some bits got stuck","patience is power","almost done"],xt=yt,_t=(n("6a14"),Object(v["a"])(xt,Et,Ot,!1,null,"274ce77a",null)),wt=_t.exports,St=function(){var e=this,t=e._self._c;return t("div",[e.mobileView&&e.showSchedulePanel?t("div",{ref:"scheduleModal",staticClass:"modal"},[t("SchedulePanel",{attrs:{"mobile-view":!0},on:{close:function(t){e.showSchedulePanel=!1}}})],1):e.showSchedulePanel?t("SchedulePanel",{on:{close:function(t){e.showSchedulePanel=!1}}}):e._e()],1)},At=[],jt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"schedule-panel card"},[t("div",{staticClass:"card-content"},[t("span",{staticClass:"card-title primary-color-text"},[e._v("Schedule execution")]),t("div",{staticClass:"schedule-type-panel"},[t("p",{staticClass:"schedule-type-field"},[t("label",[t("input",{staticClass:"with-gap",attrs:{name:"schedule-type",type:"radio"},domProps:{checked:e.oneTimeSchedule},on:{click:function(t){e.oneTimeSchedule=!0}}}),t("span",[e._v("One time")])])]),t("p",{staticClass:"schedule-type-field"},[t("label",[t("input",{staticClass:"with-gap",attrs:{name:"schedule-type",type:"radio"},domProps:{checked:!e.oneTimeSchedule},on:{click:function(t){e.oneTimeSchedule=!1}}}),t("span",[e._v("Repeat")])])])]),e.oneTimeSchedule?t("div",{staticClass:"one-time-schedule-panel"},[t("DatePicker",{staticClass:"inline",attrs:{"show-header-in-modal":!e.mobileView,label:"Date"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),t("TimePicker",{staticClass:"inline",attrs:{label:"Time"},on:{error:e.checkErrors},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1):t("div",{staticClass:"repeat-schedule-panel"},[t("div",[t("span",{staticClass:"schedule-repeat_col-1"},[e._v("Every")]),t("Textfield",{staticClass:"inline repeat-period-field schedule-repeat_col-2",attrs:{config:e.repeatPeriodField},on:{error:e.checkErrors},model:{value:e.repeatPeriod,callback:function(t){e.repeatPeriod=t},expression:"repeatPeriod"}}),t("Combobox",{staticClass:"inline repeat-time-unit-field schedule-repeat_col-3",attrs:{config:e.repeatTimeUnitField,"show-header":!1},model:{value:e.repeatTimeUnit,callback:function(t){e.repeatTimeUnit=t},expression:"repeatTimeUnit"}})],1),t("div",[t("span",{staticClass:"schedule-repeat_col-1"},[e._v("Starting")]),t("DatePicker",{staticClass:"inline repeat-start-date schedule-repeat_col-2",attrs:{"show-header-in-modal":!e.mobileView,label:"Date"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),t("TimePicker",{staticClass:"inline repeat-start-time schedule-repeat_col-3",attrs:{label:"Time"},on:{error:e.checkErrors},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),t("div",[t("span",{staticClass:"schedule-repeat_col-1"},[e._v("End:")]),t("div",{staticClass:"schedule-type-panel"},[t("p",{staticClass:"schedule-type-field"},[t("label",[t("input",{staticClass:"with-gap",attrs:{name:"end-type",type:"radio"},domProps:{checked:"never"===e.endOption},on:{click:function(t){e.endOption="never"}}}),t("span",[e._v("Never")])])]),t("p",{staticClass:"schedule-type-field"},[t("label",[t("input",{staticClass:"with-gap",attrs:{name:"end-type",type:"radio"},domProps:{checked:"maxExecuteCount"===e.endOption},on:{click:function(t){e.endOption="maxExecuteCount"}}}),t("span",[e._v("Count")])])]),t("p",{staticClass:"schedule-type-field"},[t("label",[t("input",{staticClass:"with-gap",attrs:{name:"end-type",type:"radio"},domProps:{checked:"endDatetime"===e.endOption},on:{click:function(t){e.endOption="endDatetime"}}}),t("span",[e._v("Date")])])])]),t("br"),"endDatetime"===e.endOption?t("div",[t("span",{staticClass:"schedule-repeat_col-1"},[e._v("Ending")]),t("DatePicker",{staticClass:"inline repeat-start-date schedule-repeat_col-2",attrs:{"show-header-in-modal":!e.mobileView,label:"Date"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}}),t("TimePicker",{staticClass:"inline repeat-start-time schedule-repeat_col-3",attrs:{label:"Time"},on:{error:e.checkErrors},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1):e._e(),"maxExecuteCount"===e.endOption?t("div",[t("span",{staticClass:"schedule-repeat_col-1"},[e._v("Count")]),t("Textfield",{staticClass:"inline repeat-period-field schedule-repeat_col-2",attrs:{config:e.repeatPeriodField},on:{error:e.checkErrors},model:{value:e.maxExecuteCount,callback:function(t){e.maxExecuteCount=t},expression:"maxExecuteCount"}})],1):e._e(),"weeks"===e.repeatTimeUnit?t("div",{staticClass:"repeat-weeks-panel"},[t("div",{staticClass:"repeat-weekday-panel",class:{error:e.weekdaysError}},e._l(e.weekDays,(function(n){return t("ToggleDayButton",{key:n.day,attrs:{text:n.day.charAt(0),title:n.day},model:{value:n.active,callback:function(t){e.$set(n,"active",t)},expression:"day.active"}})})),1),e.weekdaysError?t("div",{staticClass:"weekdays-error"},[e._v(e._s(e.weekdaysError))]):e._e()]):e._e()])]),t("div",{staticClass:"schedule-panel-buttons card-action"},[t("a",{staticClass:"waves-effect btn-flat",on:{click:e.close}},[e._v(" Cancel ")]),t("PromisableButton",{attrs:{click:e.runScheduleAction,enabled:0===e.errors.length,preloaderStyle:{width:"20px",height:"20px"},title:"Schedule"}})],1)])])},Tt=[],kt=n("3835"),Lt=(n("e1b2"),n("aabd"),n("2d69"),n("a5b4"),n("b8dc"),n("c360"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field date-picker",class:{headless:!e.showHeaderInModal}},[t("input",{ref:"datePicker",staticClass:"validate datepicker",attrs:{id:e.id,placeholder:e.label,type:"text"}}),t("label",{attrs:{for:e.id}},[e._v(e._s(e.label||""))])])}),Dt=[],It={name:"DatePicker",props:{label:{type:String},value:{type:Date},showHeaderInModal:{type:Boolean,default:!0}},data:function(){return{id:null}},mounted:function(){var e=this;this.id="datepicker_"+Object(i["S"])();var t=M.Datepicker.init(this.$refs.datePicker,{defaultTime:"now",autoClose:!0,defaultDate:this.value,setDefaultDate:!0,minDate:new Date,firstDay:1,yearRange:5,onSelect:function(t){t.getTime()!==e.value.getTime()&&e.$nextTick((function(){return e.$emit("input",t)}))},onDraw:function(){var e=Object(i["p"])(t.$el[0].parentNode,"svg");e.forEach((function(e){return e.style.fill="var(--font-color-main)"}))}})},beforeDestroy:function(){var e=M.Datepicker.getInstance(this.$refs.datePicker);e.destroy()},watch:{value:{immediate:!0,handler:function(e){if(!Object(i["D"])(this.$refs.datePicker)){var t=M.Datepicker.getInstance(this.$refs.datePicker);t.setDate(e)}}}}},Pt=It,Nt=(n("2c6a"),Object(v["a"])(Pt,Lt,Dt,!1,null,"95adeb22",null)),Vt=Nt.exports,Ft=function(){var e=this,t=e._self._c;return t("div",{staticClass:"time-picker input-field",attrs:{"data-error":e.error}},[t("input",{ref:"timePicker",staticClass:"validate",attrs:{id:e.id,placeholder:e.label,required:e.required,type:"text"},on:{input:e.inputFieldChanged}}),t("label",{attrs:{for:e.id}},[e._v(e._s(e.label||""))])])},Rt=[],Mt=(n("466d"),{name:"TimePicker",props:{label:{type:String},value:{type:String},required:{type:Boolean,default:!0}},data:function(){return{id:null,error:""}},mounted:function(){this.id="timepicker_"+Object(i["S"])(),this.$refs.timePicker.value=this.value,M.updateTextFields()},watch:{value:{immediate:!0,handler:function(e){Object(i["D"])(this.$refs.timePicker)||(this.$refs.timePicker.value=e,this.doValidation(e))}},error:{handler:function(e){this.$refs.timePicker.setCustomValidity(e),M.validate_field(cash(this.$refs.timePicker)),this.$emit("error",e)}}},methods:{doValidation:function(e){var t=e.trim();this.required&&""===t?this.error="required":Object(i["A"])(t)||t.match(/^((0?[0-9])|(1[0-9])|(2[0-3])):[0-5][0-9]$/)?this.error="":this.error="Format HH:MM"},inputFieldChanged:function(){var e=this.$refs.timePicker,t=e.value,n=t.trim();this.doValidation(n),Object(i["A"])(this.error)&&this.$emit("input",n)}}}),$t=Mt,Ut=Object(v["a"])($t,Ft,Rt,!1,null,"61ce47f6",null),Bt=Ut.exports,Ht=n("d07c"),Wt=n("99af"),zt=(n("f620"),{required:!0,type:"int",min:1,max:50}),Gt={type:"list",values:["minutes","hours","days","weeks","months"]},qt=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"trim-text",rawName:"v-trim-text"}],staticClass:"toggle-day-button",class:{active:e.value},on:{click:function(t){return e.$emit("input",!e.value)}}},[e._v(" "+e._s(e.text)+" ")])},Jt=[],Kt={name:"RoundToggleButton",props:{text:{type:String,default:"?"},value:{type:Boolean,default:!1}}},Xt=Kt,Qt=(n("10fd"),Object(v["a"])(Xt,qt,Jt,!1,null,"ec299b38",null)),Yt=Qt.exports,Zt=n("cbf2"),en=(n("81cf"),{name:"SchedulePanel",components:{PromisableButton:Zt["a"],ToggleDayButton:Yt,Combobox:Wt["a"],Textfield:Ht["a"],TimePicker:Bt,DatePicker:Vt},props:{mobileView:{type:Boolean,default:!1}},data:function(){var e=new Date,t=e.getDay(),n=new Date(e);return n.setDate(e.getDate()+1),{oneTimeSchedule:!0,startDate:e,startTime:e.toTimeString().substr(0,5),endOption:"never",endDate:n,endTime:n.toTimeString().substr(0,5),id:null,repeatPeriod:1,maxExecuteCount:1,repeatTimeUnit:"days",weekDays:[{day:"Monday",active:1===t},{day:"Tuesday",active:2===t},{day:"Wednesday",active:3===t},{day:"Thursday",active:4===t},{day:"Friday",active:5===t},{day:"Saturday",active:6===t},{day:"Sunday",active:0===t}],repeatPeriodField:zt,repeatTimeUnitField:Gt,errors:[]}},mounted:function(){this.id=this._uid,M.updateTextFields()},methods:Object(o["a"])(Object(o["a"])({},Object(E["b"])("scriptSchedule",["schedule"])),{},{runScheduleAction:function(){var e=this,t=this.buildScheduleSetup();return this.schedule({scheduleSetup:t}).then((function(t){var n=t.data;M.toast({html:"Scheduled #"+n["id"]}),e.close()}))},buildScheduleSetup:function(){var e=new Date(this.startDate),t=this.startTime.split(":"),n=Object(kt["a"])(t,2),i=n[0],r=n[1];e.setHours(parseInt(i),parseInt(r),0,0);var a=this.endOption,s=null;if("maxExecuteCount"===this.endOption)s=this.maxExecuteCount,a="max_executions";else if("endDatetime"===this.endOption){var o=new Date(this.endDate),c=this.endTime.split(":"),l=Object(kt["a"])(c,2),u=l[0],d=l[1];o.setHours(parseInt(u),parseInt(d),0,0),s=o,a="end_datetime"}var h=this.weekDays.filter((function(e){return e.active})).map((function(e){return e.day}));return{repeatable:!this.oneTimeSchedule,startDatetime:e,endOption:a,endArg:s,repeatUnit:this.repeatTimeUnit,repeatPeriod:this.repeatPeriod,weekDays:h}},close:function(){this.$emit("close")},checkErrors:function(){Object(i["g"])(this.errors);var e,t=Object(ce["a"])(this.$children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.$options._componentTag!==Bt.name&&n.$options._componentTag!==Ht["a"].name||Object(i["A"])(n.error)||this.errors.push(n.error)}}catch(r){t.e(r)}finally{t.f()}Object(i["A"])(this.weekdaysError)||this.errors.push(this.weekdaysError)}}),computed:{weekdaysError:function(){if(this.oneTimeSchedule||"weeks"!==this.repeatTimeUnit)return null;var e=this.weekDays.filter((function(e){return e.active}));return Object(i["y"])(e)?"required":null}},watch:{weekdaysError:function(){this.$nextTick(this.checkErrors)},oneTimeSchedule:function(){this.$nextTick(this.checkErrors)}}}),tn=en,nn=(n("23bd"),Object(v["a"])(tn,jt,Tt,!1,null,"9ec292d0",null)),rn=nn.exports,an={name:"ScriptViewScheduleHolder",components:{SchedulePanel:rn},props:{scriptConfigComponentsHeight:{type:Number,default:0}},data:function(){return{mobileView:!1,showSchedulePanel:!1,scheduleModal:null}},mounted:function(){window.addEventListener("resize",this.resizeListener),this.resizeListener()},beforeDestroy:function(){window.removeEventListener("resize",this.resizeListener)},computed:Object(o["a"])({},Object(E["c"])("scriptConfig",{scriptConfig:"scriptConfig"})),methods:{open:function(){this.showSchedulePanel=!0},resizeListener:function(){this.mobileView=window.innerHeight-this.scriptConfigComponentsHeight-400<0},updateScheduleVisibility:function(){var e=this;this.mobileView&&this.showSchedulePanel?(Object(i["D"])(this.scheduleModal)&&(this.scheduleModal=M.Modal.init(this.$refs.scheduleModal,{onCloseStart:function(){return e.showSchedulePanel=!1}})),this.scheduleModal.open()):Object(i["D"])(this.scheduleModal)||(this.scheduleModal.destroy(),this.scheduleModal=null)}},watch:{mobileView:function(){var e=this;this.$nextTick((function(){e.updateScheduleVisibility()}))},showSchedulePanel:function(e){var t=this;this.$nextTick((function(){t.updateScheduleVisibility()})),e||this.$emit("close")},scriptConfig:function(){var e=this;this.$nextTick((function(){return e.resizeListener()})),this.showSchedulePanel=!1},scriptConfigComponentsHeight:function(){var e=this;this.$nextTick((function(){return e.resizeListener()}))}}},sn=an,on=(n("440d"),Object(v["a"])(sn,St,At,!1,null,"61db14a4",null)),cn=on.exports,ln=n("c0c4"),un=n.n(ln),dn=n("7c5c"),hn=n("8468"),fn="initializing",pn="executing",mn="finished",vn="disconnected",bn="error",gn=1e3,En=function(e,t,n){var a={websocket:null};function s(){return!Object(i["D"])(a.websocket)&&!Object(i["E"])(a.websocket)}return{namespaced:!0,state:{id:e,logChunks:[],inputPromptText:null,downloadableFiles:[],inlineImages:{},parameterValues:n,status:fn,scriptName:t,killIntervalId:null,killTimeoutSec:null,killEnabled:!1},actions:{reconnect:function(e){var t=e.state,n=e.dispatch,i=e.commit;n("setStatus",pn),On(a,t,i,n)},stopExecution:function(e){var t=e.state,n=e.commit,r=e.dispatch;if(Object(i["D"])(t.killIntervalId)&&!t.killEnabled){var a=setInterval((function(){r("_tickKillInterval")}),gn);n("SET_KILL_INTERVAL",{id:a,timeoutSec:5,killEnabled:!1})}return Qe["a"].post("executions/stop/"+t.id)},_tickKillInterval:function(e){var t=e.state,n=e.commit;return t.status!==pn?(Object(i["D"])(t.killIntervalId)||clearInterval(t.killIntervalId),void n("SET_KILL_INTERVAL",{id:null,timeoutSec:null,killEnabled:!1})):t.killTimeoutSec<=1?(Object(i["D"])(t.killIntervalId)||clearInterval(t.killIntervalId),void n("SET_KILL_INTERVAL",{id:null,timeoutSec:null,killEnabled:!0})):void n("DEC_KILL_INTERVAL")},killExecution:function(e){var t=e.state;return Qe["a"].post("executions/kill/"+t.id)},setInitialising:function(e){var t=e.commit,n=e.dispatch;t("SET_LOG","Calling the script..."),n("setStatus",fn)},start:function(e,t){var n=e.state,i=e.dispatch,r=e.commit;r("SET_ID",t),r("SET_LOG",null),i("setStatus",pn),On(a,n,r,i)},sendUserInput:function(e,t){Object(hn["a"])(e),s()&&a.websocket.send(t)},setErrorStatus:function(e){var t=e.dispatch;t("setStatus",bn)},appendLog:function(e,t){var n=e.commit;n("ADD_LOG_CHUNK",t)},cleanup:function(e){var t=e.state;Qe["a"].post("executions/cleanup/"+t.id)},abort:function(e){var t=e.dispatch;return t("stopExecution")},setStatus:function(e,t){var n=e.commit,r=e.state;Object(i["D"])(r.killIntervalId)||(clearInterval(r.killIntervalId),n("SET_KILL_INTERVAL",{id:null,timeoutSec:null,killEnabled:!1})),n("SET_STATUS",t)}},mutations:{SET_CONFIG:function(e,t){var n=t.scriptName,i=t.parameterValues;e.parameterValues=i,e.scriptName=n},SET_LOG:function(e,t){t?Array.isArray(t)?e.logChunks=t:e.logChunks=[t]:e.logChunks=[]},ADD_LOG_CHUNK:function(e,t){e.logChunks.push(t)},SET_PROMPT_TEXT:function(e,t){e.inputPromptText=t},ADD_FILE:function(e,t){e.downloadableFiles.push(t)},ADD_INLINE_IMAGE:function(e,t){var n=t.output_path,i=t.download_url;r["a"].set(e.inlineImages,n,i)},SET_STATUS:function(e,t){e.status=t},SET_WEBSOCKET:function(e,t){e.websocket=t},SET_ID:function(e,t){e.id=t},SET_KILL_INTERVAL:function(e,t){var n=t.id,i=t.timeoutSec,r=t.killEnabled;e.killIntervalId=n,e.killTimeoutSec=i,e.killEnabled=r},DEC_KILL_INTERVAL:function(e){e.killTimeoutSec--}}}};function On(e,t,n,r){if(Object(i["D"])(e.websocket)){var a,s=t.id;try{a=new WebSocket(Object(i["u"])("executions/io/"+s))}catch(o){console.log("Failed to open websocket")}a.addEventListener("message",(function(e){var t=JSON.parse(e.data),i=t.event,r=t.data;"output"===i?n("ADD_LOG_CHUNK",r):"input"===i?n("SET_PROMPT_TEXT",r):"file"===i?n("ADD_FILE",{url:r.url,filename:r.filename}):"inline-image"===i&&n("ADD_INLINE_IMAGE",{output_path:r.output_path,download_url:r.download_url})})),a.addEventListener("close",(function(e){var t=1e3===e.code;t?r("setStatus",mn):Qe["a"].get("executions/status/"+s).then((function(e){var t=e.data;r("setStatus","finished"===t?mn:vn)})).catch((function(e){console.log("Failed to connect to the server: "+e),r("setErrorStatus")}))})),e.websocket=a}}var yn=function(){var e=this,t=e._self._c;return t("div",{ref:"parametersPanel",staticClass:"script-parameters-panel",style:{"grid-template-columns":"repeat("+e.gridColumns+", minmax(0, 1fr))"}},[e._l(e.parameters,(function(n){var i,r;return[null!==(i=n.ui)&&void 0!==i&&i.separatorBefore&&!e.startsWithNewLine(n)?t("ParameterSeparator",{style:"grid-column-start: span "+e.gridColumns,attrs:{separator:null===(r=n.ui)||void 0===r?void 0:r.separatorBefore}}):e._e(),t(e.getComponentType(n),{key:n.name,tag:"component",staticClass:"parameter",class:{inline:e.isInline(n)},style:e.getGridCellStyle(n),attrs:{config:n,value:e.getParameterValue(n),forceValue:e.forcedValueParameters.includes(n.name)},on:{error:function(t){return e.handleError(n,t)},input:function(t){return e.setParameterValue(n.name,t)}}})]}))],2)},Cn=[],xn=(n("a15b"),n("f040")),_n=n("181b"),wn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field server-file-field",attrs:{"data-error":e.error,title:e.config.description}},[t("a",{ref:"openFileButton",staticClass:"btn-icon-flat btn-small waves-effect waves-circle",on:{click:e.openDialog}},[t("i",{staticClass:"material-icons"},[e._v("folder_open")])]),t("input",{ref:"inputField",staticClass:"validate",attrs:{id:e.config.name,required:e.config.required,readonly:""},domProps:{value:e.valueText},on:{blur:function(t){e.focused=!1},click:e.openDialog,focus:function(t){e.focused=!0},keypress:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.openDialog.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.openDialog.apply(null,arguments))}]}}),t("label",{class:{active:e.value&&e.value.length>0||e.focused},attrs:{for:e.config.name}},[e._v(e._s(e.config.name))]),t("div",{ref:"modal",staticClass:"modal"},[t("FileDialog",{ref:"fileDialog",staticClass:"file-dialog",attrs:{fileType:this.config.fileType,loadFiles:this.config.loadFiles,onClose:e.dialogClosed,onFileSelect:e.selectFile,opened:e.dialogOpened}})],1)])},Sn=[],An=function(){var e=this,t=e._self._c;return t("div",{staticClass:"file-dialog",on:{keypress:[function(t){return e.onKeyPressed(t)},function(t){return t.type.indexOf("key")||13===t.keyCode?(t.preventDefault(),e.onEnterPressed(t)):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onClose.apply(null,arguments)}],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNextFile(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectNextFile(-1))}],keyup:function(t){return t.type.indexOf("key")||8===t.keyCode?e.navigateUp(1):null}}},[t("div",{staticClass:"file-dialog-header"},[t("nav",{staticClass:"primary-color-dark"},[t("div",{staticClass:"nav-wrapper"},[t("div",{staticClass:"path-breadcrumbs"},[t("a",{staticClass:"breadcrumb",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openPath([])}}},[t("i",{staticClass:"material-icons"},[e._v("home")])]),e.path.length>3?t("a",{staticClass:"breadcrumb",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.navigateUp(2)}}},[e._v("...")]):e._e(),e._l(e.path,(function(n,i){return e.path.length<=3||i>=e.path.length-2?t("a",{staticClass:"breadcrumb",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.navigateUp(e.path.length-i-1)}}},[e._v(e._s(n))]):e._e()}))],2)])])]),t("div",{ref:"contentPanel",staticClass:"file-dialog-content",attrs:{tabindex:"0"}},[e.loading?t("div",{staticClass:"loading-field"},[e._v("Loading...")]):e.error?t("div",{staticClass:"red-text load-error-field"},[e._v(e._s(e.error))]):t("ul",{ref:"filesList",staticClass:"collection"},e._l(e.files,(function(n){return t("li",{staticClass:"collection-item",class:{active:n===e.selectedFile},on:{click:function(t){return e.selectFile(n)},dblclick:function(t){return e.onFileAction(n)}}},[t("i",{staticClass:"material-icons"},[e._v(e._s(e.getIcon(n)))]),t("span",[e._v(e._s(n.name))])])})),0)]),t("div",{staticClass:"file-dialog-footer"},[t("a",{staticClass:"waves-effect btn-flat",on:{click:e.onClose}},[e._v("Cancel")]),t("a",{staticClass:"waves-effect btn-flat",on:{click:function(t){return e.triggerFileChosen(null)}}},[e._v("Clear")]),t("a",{staticClass:"waves-effect btn-flat",attrs:{disabled:null===e.selectedFile||!e.isChoosable(e.selectedFile)},on:{click:function(t){return e.triggerFileChosen(e.selectedFile)}}},[e._v("Select")])])])},jn=[],Tn=n("c7eb"),kn=n("1da1"),Ln=n("2909"),Dn={name:"file_dialog",props:{onClose:{type:Function},onFileSelect:{type:Function},loadFiles:{type:Function},fileType:{type:String},opened:{type:Boolean,default:!0}},data:function(){return{selectedFile:null,path:[],files:[],error:null,loading:!1}},watch:{opened:function(e){e&&this.openPath(this.path)}},mounted:function(){this.opened&&this.openPath([])},methods:{focus:function(){this.$refs.contentPanel.focus()},setChosenFile:function(e){var t,n;Object(i["y"])(e)?(t=[],n=null):(t=e.slice(0,e.length-1),n=e[e.length-1]),this.opened?this.openPath(t,n):(this.selectedFile=n?{name:n}:null,this.path=t)},getIcon:function(e){return"dir"===e.type?!1===e.readable?"lock":"folder":"description"},isChoosable:function(e){return!(!Object(i["A"])(this.fileType)&&!Object(i["D"])(e))||e.type===this.fileType},selectFile:function(e){var t=this;this.selectedFile=e,Object(i["D"])(e)||this.$nextTick((function(){var e=t.$refs.filesList;if(!Object(i["D"])(e)){var n=e.getElementsByClassName("active");0!==n.length&&Object(i["L"])(n[0],!0)}}))},onFileAction:function(e){"dir"===e.type?!1!==e.readable&&this.openPath([].concat(Object(Ln["a"])(this.path),[e.name])):this.triggerFileChosen(e)},openPath:function(e,t){var n=this;return Object(kn["a"])(Object(Tn["a"])().mark((function r(){var a,s,o;return Object(Tn["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a=Object(i["f"])(e,n.path),"undefined"===typeof t&&a&&!Object(i["D"])(n.selectedFile)&&(t=n.selectedFile.name),n.path=e,n.selectedFile=null,n.loading=!0,n.error=null,r.next=9,n.loadFiles(e);case 9:s=r.sent,Object(i["D"])(s)&&(s=[]),n.path===e&&(s.sort(Object(i["N"])("type").andThen(Object(i["N"])("name"))),n.files=s,n.loading=!1,Object(i["D"])(t)||(o=n.files.find((function(e){return e.name===t})),o&&n.selectFile(o))),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](0),n.path===e&&(n.error="Failed to load files",n.files=[],n.loading=!1),Object(i["H"])(r.t0);case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},triggerFileChosen:function(e){this.isChoosable(e)&&(this.selectFile(e),Object(i["D"])(e)?this.onFileSelect([]):this.onFileSelect([].concat(Object(Ln["a"])(this.path),[e.name])))},selectNextFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=e>=0?1:-1,n=null===this.selectedFile?-1:this.files.indexOf(this.selectedFile),i=n+t;i>=this.files.length?i=0:i<0&&(i=this.files.length-1),this.selectFile(this.files[i])},onEnterPressed:function(e){Object(i["D"])(this.selectedFile)||(e.ctrlKey||e.shiftKey?this.triggerFileChosen(this.selectedFile):this.onFileAction(this.selectedFile))},navigateUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(i["y"])(this.path)||e>this.path.length||e<=0||(1===this.path.length?this.openPath([]):this.openPath(this.path.slice(0,this.path.length-e)))},onKeyPressed:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode||e.which,n=String.fromCharCode(t);if(/[0-9A-Z_a-z]/.test(n)){var i,r=n.toLowerCase(),a=Object(ce["a"])(this.files);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.name.toLowerCase().startsWith(r)){this.selectFile(s);break}}}catch(o){a.e(o)}finally{a.f()}e.preventDefault()}}}}},In=Dn,Pn=(n("2df0"),Object(v["a"])(In,An,jn,!1,null,"6d479858",null)),Nn=Pn.exports,Vn={name:"server_file_field",components:{FileDialog:Nn},props:{value:[Array],config:Object},data:function(){return{error:"",focused:!1,dialogOpened:!1,isMounted:!1}},computed:{valueText:function(){if(Object(i["y"])(this.value))return"";var e=this.value.join("/");if(!this.isMounted||!this.$refs.inputField)return e;var t=Object(i["s"])(e,this.$refs.inputField),n=this.$refs.inputField.offsetWidth-this.$refs.openFileButton.offsetWidth;if(t<=n)return e;var r,a=t/e.length,s=n/a-2;do{r="..."+e.substring(e.length-s);var o=Object(i["s"])(r,this.$refs.inputField);if(o<=n)break;s--}while(s>0);return r}},mounted:function(){M.Modal.init(this.$refs.modal,{onCloseEnd:this.dialogClosed}),this.isMounted=!0,this.validate(this.value)},beforeDestroy:function(){var e=M.Modal.getInstance(this.$refs.modal);e.destroy()},methods:{selectFile:function(e){this.closeDialog(),this.validate(e),Object(i["f"])(this.value,e)||this.$emit("input",e)},getValidationError:function(e){var t=Object(i["y"])(e);return this.config.required&&t?"required":""},dialogClosed:function(){this.closeDialog()},closeDialog:function(){var e=M.Modal.getInstance(this.$refs.modal);e.close(),this.$refs.inputField.focus(),this.dialogOpened=!1},openDialog:function(e){var t=M.Modal.getInstance(this.$refs.modal);t.open(),this.$refs.fileDialog.setChosenFile(this.value),this.dialogOpened=!0,this.$refs.fileDialog.focus()},validate:function(e){this.error=this.getValidationError(e);var t=this.$refs.inputField;Object(i["D"])(t)||(this.error?Object(i["e"])(t,"invalid"):Object(i["J"])(t,"invalid")),this.$emit("error",this.error)}}},Fn=Vn,Rn=(n("b966"),Object(v["a"])(Fn,wn,Sn,!1,null,"7658beae",null)),Mn=Rn.exports,$n=n("c6dd"),Un=n("5fa6"),Bn={name:"script-parameters-view",components:{ParameterSeparator:Un["a"]},data:function(){return{gridColumns:7}},computed:Object(o["a"])(Object(o["a"])({},Object(E["c"])("scriptConfig",{parameters:"parameters"})),Object(E["c"])("scriptSetup",{parameterValues:"parameterValues",forcedValueParameters:"forcedValueParameters"})),mounted:function(){var e=this;window.addEventListener("resize",this.recalculateParamsLayout),this.$nextTick((function(){e.recalculateParamsLayout()}))},beforeDestroy:function(){window.removeEventListener("resize",this.recalculateParamsLayout)},methods:Object(o["a"])(Object(o["a"])({},Object(E["b"])("scriptSetup",{setParameterValueInStore:"setParameterValue",setParameterErrorInStore:"setParameterError"})),{},{getComponentType:function(e){return e.withoutValue?xn["a"]:Ee(e)?Mn:be.includes(e.type)?Wt["a"]:"file_upload"===e.type?_n["a"]:"multiline_text"===e.type?$n["a"]:Ht["a"]},isInline:function(e){return"multiline_text"!==e.type},handleError:function(e,t){this.setParameterErrorInStore({parameterName:e.name,errorMessage:t})},setParameterValue:function(e,t){this.setParameterValueInStore({parameterName:e,value:t})},getParameterValue:function(e){var t=this.parameterValues[e.name];return Object(i["D"])(t)?!e.withoutValue&&t:t},recalculateParamsLayout:function(){var e=this.$refs.parametersPanel.clientWidth,t=200;this.gridColumns=Math.floor(e/t)},getGridCellStyle:function(e){if(this.isInline(e)){var t,n=[];this.startsWithNewLine(e)&&n.push("grid-column-start: 1");var i=null===(t=e.ui)||void 0===t?void 0:t["widthWeight"];return i&&n.push("grid-column-end: span "+Math.min(i,this.gridColumns)),n.join("; ")}return"grid-column-end: span "+this.gridColumns},startsWithNewLine:function(e){var t,n=null===(t=e.ui)||void 0===t?void 0:t.separatorBefore;return!Object(i["D"])(n)&&(!n.title&&"new_line"===n.type)}})},Hn=Bn,Wn=(n("4fe0"),Object(v["a"])(Hn,yn,Cn,!1,null,"20962686",null)),zn=Wn.exports,Gn={data:function(){return{id:null,everStarted:!1,shownErrors:[],nextLogIndex:0,lastInlineImages:{},scheduleMode:!1,scriptConfigComponentsHeight:0}},props:{hideExecutionControls:Boolean},mounted:function(){this.id="script-panel-"+this._uid},components:{ScriptLoadingText:wt,LogPanel:ht["a"],ScriptParametersView:zn,ScheduleButton:gt,ScriptViewScheduleHolder:cn},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(E["c"])("scriptConfig",{scriptDescription:function(e){return e.scriptConfig?e.scriptConfig.description:""},loading:"loading",scriptConfig:"scriptConfig",outputFormat:function(e){return e.scriptConfig?e.scriptConfig.outputFormat:void 0},preloadOutput:function(e){var t;return null===(t=e.preloadScript)||void 0===t?void 0:t["output"]},preloadOutputFormat:function(e){var t;return null===(t=e.preloadScript)||void 0===t?void 0:t["format"]}})),Object(E["c"])("scriptSetup",{parameterErrors:"errors"})),Object(E["c"])("executions",{currentExecutor:"currentExecutor"})),Object(E["c"])("scripts",["selectedScript"])),{},{hasErrors:function(){return!Object(i["D"])(this.shownErrors)&&this.shownErrors.length>0},formattedDescription:function(){if(Object(i["A"])(this.scriptDescription))return"";var e=un.a.sanitize(dn["marked"].parse(this.scriptDescription,{gfm:!0,breaks:!0})),t=document.createElement("div");t.innerHTML=e.trim();for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if("P"===r.tagName){n+=r.childNodes.length-1;while(r.childNodes.length>0)t.insertBefore(r.firstChild,r);t.removeChild(r)}}return t.innerHTML},enableExecuteButton:function(){return!this.scheduleMode&&(!this.hideExecutionControls&&(!this.loading&&(!!Object(i["D"])(this.currentExecutor)||(this.currentExecutor.state.status===mn||this.currentExecutor.state.status===vn||this.currentExecutor.state.status===bn))))},enableScheduleButton:function(){return!this.hideExecutionControls&&(!this.loading&&(!!Object(i["D"])(this.currentExecutor)||(this.currentExecutor.state.status===mn||this.currentExecutor.state.status===vn||this.currentExecutor.state.status===bn)))},enableStopButton:function(){return this.status===pn},stopButtonLabel:function(){if(this.status===pn){if(this.killEnabled)return"Kill";if(!Object(i["D"])(this.killEnabledTimeout))return"Stop ("+this.killEnabledTimeout+")"}return"Stop"},status:function(){return Object(i["D"])(this.currentExecutor)?null:this.currentExecutor.state.status},showLog:function(){return!Object(i["D"])(this.currentExecutor)&&!this.scheduleMode},downloadableFiles:function(){return this.currentExecutor?this.currentExecutor.state.downloadableFiles:[]},inlineImages:function(){return this.currentExecutor?this.currentExecutor.state.inlineImages:{}},inputPromptText:function(){return this.status!==pn?null:this.currentExecutor.state.inputPromptText},logChunks:function(){return this.currentExecutor?this.currentExecutor.state.logChunks:[]},killEnabled:function(){return!Object(i["D"])(this.currentExecutor)&&this.currentExecutor.state.killEnabled},killEnabledTimeout:function(){return Object(i["D"])(this.currentExecutor)?null:this.currentExecutor.state.killTimeoutSec},schedulable:function(){return this.scriptConfig&&this.scriptConfig.schedulable},hasParameters:function(){return this.scriptConfig&&this.scriptConfig.parameters&&this.scriptConfig.parameters.length>0}}),methods:Object(o["a"])(Object(o["a"])({inputKeyUpHandler:function(e){if(13===e.keyCode){var t=this.$refs.inputField;this.sendUserInput(t.value),t.value=""}},validatePreExecution:function(){var e=this;this.shownErrors=[];var t=this.parameterErrors;return!!Object(i["z"])(t)||(Object(i["o"])(t,(function(t,n){e.shownErrors.push(t+": "+n)})),!1)},executeScript:function(){this.validatePreExecution()&&this.startExecution()},openSchedule:function(){this.validatePreExecution()&&(this.$refs.scheduleHolder.open(),this.scheduleMode=!0)}},Object(E["b"])("executions",{startExecution:"startExecution"})),{},{stopScript:function(){Object(i["D"])(this.currentExecutor)||(this.killEnabled?this.$store.dispatch("executions/"+this.currentExecutor.state.id+"/killExecution"):this.$store.dispatch("executions/"+this.currentExecutor.state.id+"/stopExecution"))},sendUserInput:function(e){Object(i["D"])(this.currentExecutor)||this.$store.dispatch("executions/"+this.currentExecutor.state.id+"/sendUserInput",e)},setLog:function(e){this.$refs.logPanel.setLog(e)},appendLog:function(e){this.$refs.logPanel.appendLog(e)}}),watch:{inputPromptText:function(e){if(!Object(i["D"])(e)||!Object(i["D"])(this.$refs.inputField)){var t=function(){this.$refs.inputField.value="",Object(i["D"])(e)||this.$refs.inputField.focus()}.bind(this);this.$refs.inputField?t():this.$nextTick(t)}},logChunks:{immediate:!0,handler:function(e,t){var n=this,r=function(){if(Object(i["D"])(e))return n.setLog(""),void(n.nextLogIndex=0);for(e!==t&&(n.setLog(""),n.nextLogIndex=0);n.nextLogIndex<e.length;n.nextLogIndex++){var r=e[n.nextLogIndex];n.appendLog(r)}};Object(i["D"])(this.$refs.logPanel)?this.$nextTick(r):r()}},preloadOutput:{handler:function(e,t){var n=this;this.$nextTick((function(){n.$refs.preloadOutputPanel&&n.$refs.preloadOutputPanel.setLog(e)}))}},inlineImages:{handler:function(e,t){var n=this,r=this.$refs.logPanel;Object(i["o"])(this.lastInlineImages,(function(t,n){e.hasOwnProperty(t)?n!==e[t]&&r.setInlineImage(t,n):r.removeInlineImage(t)})),Object(i["o"])(e,(function(e,t){n.lastInlineImages.hasOwnProperty(e)||r.setInlineImage(e,t)})),this.lastInlineImages=Object(i["l"])(e)}},scriptConfig:{immediate:!0,handler:function(){var e=this;this.shownErrors=[],this.$nextTick((function(){var t=200;if(Object(i["D"])(e.$refs.parametersView))e.scriptConfigComponentsHeight=t;else{var n=e.$refs.parametersView.$el.clientHeight;e.scriptConfigComponentsHeight=n+t}}))}},status:{handler:function(e){e===mn&&this.$store.dispatch("executions/"+this.currentExecutor.state.id+"/cleanup")}}}},qn=Gn,Jn=(n("b50f"),Object(v["a"])(qn,ut,dt,!1,null,"1e3d7e9c",null)),Kn=Jn.exports,Xn={name:"MainAppContent",components:{ScriptView:Kn},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({showError:function(){return!(!this.scriptLoadError&&this.authenticated)},notFound:function(){return!Object(i["A"])(this.scriptLoadError)&&this.scriptLoadError.startsWith(rt)},cannotParse:function(){return!Object(i["A"])(this.scriptLoadError)&&this.scriptLoadError.startsWith(at)}},Object(E["c"])("auth",["authenticated"])),Object(E["c"])("scriptConfig",{scriptLoadError:"loadError",loading:"loading"})),Object(E["c"])("scripts",["selectedScript"])),methods:Object(o["a"])({},Object(E["b"])("page",["setLoading"])),watch:{loading:{immediate:!0,handler:function(e){this.setLoading(e)}}}},Qn=Xn,Yn=(n("4b4b"),Object(v["a"])(Qn,qe,Je,!1,null,"4f9df645",null)),Zn=Yn.exports,ei={name:"App",components:{AppLayout:g,MainAppSidebar:Ge,MainAppContent:Zn,AppWelcomePanel:T,DocumentTitleManager:V,FaviconManager:ie},methods:Object(o["a"])({},Object(E["b"])({init:"init"})),computed:Object(o["a"])({},Object(E["c"])("page",["pageLoading"])),created:function(){this.init()},mounted:function(){var e=this,t=this.$router.currentRoute.path;this.$refs.appLayout.setSidebarVisibility(Object(i["A"])(t)||"/"===t),this.$router.afterEach((function(t){e.$refs.appLayout.setSidebarVisibility(!1)}))}},ti=ei,ni=(n("0fa1"),Object(v["a"])(ti,a,s,!1,null,null,null)),ii=ni.exports,ri=n("445e"),ai=n("8c4f"),si=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-content-header"},[t("router-link",{staticClass:"breadcrumb",attrs:{to:e.baseRoute}},[t("h3",{staticClass:"header"},[e._v("History")])]),e.selectedExecutionString?t("router-link",{staticClass:"breadcrumb execution-breadcrumb",attrs:{to:e.$route.path}},[t("h3",{staticClass:"header"},[e._v(e._s(e.selectedExecutionString))])]):e._e()],1)},oi=[],ci={name:"AppHistoryHeader",computed:Object(o["a"])(Object(o["a"])({},Object(E["c"])("history",["selectedExecution"])),{},{baseRoute:function(){return this.$route.matched[0].path},selectedExecutionString:function(){var e=this.selectedExecution;return Object(i["D"])(e)?null:"#"+e.id+" - "+e.user+"@"+e.script}})},li=ci,ui=(n("64d7"),Object(v["a"])(li,si,oi,!1,null,"5acf98e0",null)),di=ui.exports,hi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-history-panel"},[t("ExecutionsLogPage",{staticClass:"main-app-executions-log",attrs:{disableProgressIndicator:!0}})],1)},fi=[],pi={name:"AppHistoryPanel",components:{ExecutionsLogPage:ri["a"]},methods:Object(o["a"])(Object(o["a"])({},Object(E["b"])("page",["setLoading"])),{},{updateLoadingIndicator:function(){this.$route.params.executionId?this.setLoading(this.detailsLoading):this.setLoading(this.loading)}}),computed:Object(o["a"])({},Object(E["c"])("history",["loading","detailsLoading"])),watch:{loading:{immediate:!0,handler:function(){this.updateLoadingIndicator()}},detailsLoading:{immediate:!0,handler:function(){this.updateLoadingIndicator()}}}},mi=pi,vi=(n("2c58"),Object(v["a"])(mi,hi,fi,!1,null,"5f6fb129",null)),bi=vi.exports,gi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"script-header main-content-header"},[t("h2",{directives:[{name:"show",rawName:"v-show",value:e.selectedScript,expression:"selectedScript"}],staticClass:"header"},[e._v(e._s(e.selectedScript))]),t("ExecutionInstanceTabs")],1)},Ei=[],Oi=function(){var e=this,t=e._self._c;return e.hasExecutors?t("div",{staticClass:"execution-instance-tabs"},[t("ul",{ref:"tabs",staticClass:"execution-tabs"},[e._l(e.scriptExecutors,(function(n){return t("li",{ref:"executor"+n.state.id,refInFor:!0,staticClass:"tab executor-tab"},[t("a",{directives:[{name:"trim-text",rawName:"v-trim-text"}],staticClass:"btn-flat",class:{active:n===e.currentExecutor,finished:"finished"===n.state.status,error:"error"===n.state.status||"disconnected"===n.state.status},on:{click:function(t){return e.selectExecutor(n)}}},[t("i",{staticClass:"material-icons"},[e._v(e._s(e.getExecutorIcon(n)))]),e._v(" "+e._s(n.state.id)+" ")])])})),e.scriptExecutors&&e.hasMoreSpace?t("li",{ref:"newExecutorTab",staticClass:"tab"},[t("a",{staticClass:"btn-flat add-execution-tab-button",class:{active:!e.currentExecutor},attrs:{title:"Add another script instance"},on:{click:e.addNew}},[t("i",{staticClass:"material-icons"},[e._v("add")])])]):e._e()],2),t("div",{ref:"tabIndicator",staticClass:"tab-indicator",class:{inactive:e.loading}})]):e._e()},yi=[],Ci=(n("13d5"),{name:"ExecutionInstanceTabs",data:function(){return{hasMoreSpace:{type:Boolean,default:!1}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(E["c"])("scripts",{selectedScript:"selectedScript"})),Object(E["c"])("scriptConfig",{loading:"loading"})),Object(E["c"])("executions",["currentExecutor","executors"])),{},{scriptExecutors:function(){var e=this,t=[];return Object(i["o"])(this.executors,(function(n,i){i.state.scriptName===e.selectedScript&&t.push(i)})),t},hasExecutors:function(){return!Object(i["y"])(this.scriptExecutors)}}),mounted:function(){this.updateTabIndicator(),window.addEventListener("resize",this.onResize),this.calcAvailableSpace()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(E["b"])("executions",["selectExecutor"])),Object(E["b"])(["resetScript"])),{},{addNew:function(){this.selectExecutor(null),this.resetScript()},onResize:function(){this.updateTabIndicator(),this.calcAvailableSpace()},updateTabIndicator:function(){if(this.$refs.tabs){var e=null;if(Object(i["D"])(this.currentExecutor)){if(Object(i["D"])(this.$refs.newExecutorTab))return void(this.$refs.tabIndicator.style.width=0);e=this.$refs.newExecutorTab}else{var t="executor"+this.currentExecutor.state.id;e=this.$refs[t],Array.isArray(e)&&(e=e[0])}if(e){var n=e.getElementsByClassName("btn-flat")[0];this.$refs.tabIndicator.style.width=n.offsetWidth+"px",this.$refs.tabIndicator.style.left=n.offsetLeft+"px"}else this.$refs.tabIndicator.style.width=0}},calcAvailableSpace:function(){if(this.$refs.tabs){var e=Array.from(this.$refs.tabs.childNodes).map((function(e){return e.offsetWidth})).reduce((function(e,t){return t+e}),0);this.hasMoreSpace=this.$el.offsetWidth-e>100}},getExecutorIcon:function(e){var t=e.state.status;return"finished"===t?"check":"error"===t||"disconnected"===t?"error_outline":"lens"}}),watch:{currentExecutor:{immediate:!0,handler:function(){this.$nextTick(this.updateTabIndicator)}},loading:{handler:function(){this.$nextTick(this.updateTabIndicator)}},scriptExecutors:function(){this.$nextTick(this.updateTabIndicator),this.$nextTick(this.calcAvailableSpace)}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)}}),xi=Ci,_i=(n("5ca0"),Object(v["a"])(xi,Oi,yi,!1,null,"5ffdfddc",null)),wi=_i.exports,Si={name:"ScriptHeader",components:{ExecutionInstanceTabs:wi},computed:Object(o["a"])(Object(o["a"])({},Object(E["c"])("scripts",{selectedScript:"selectedScript"})),Object(E["c"])("executions",["currentExecutor","executors"])),methods:{}},Ai=Si,ji=(n("ba6b"),Object(v["a"])(Ai,gi,Ei,!1,null,"cff53a5c",null)),Ti=ji.exports;r["a"].use(ai["a"]);var ki=new ai["a"]({mode:"hash",routes:[{path:"/history",components:{default:bi,header:di},children:ri["b"]},{path:"/:scriptName",components:{default:Zn,header:Ti},name:"script"},{path:"",component:T}]}),Li=ki,Di=n("ecf2"),Ii=n("9b02"),Pi=n.n(Ii),Ni=n("691d");function Vi(e){var t=new FormData;return Object(i["o"])(e,(function(e,n){if(Array.isArray(n))for(var r=0;r<n.length;r++){var a=n[r];t.append(e,a)}else Object(i["D"])(n)||t.append(e,n)})),t}var Fi={state:{},namespaced:!0,actions:{schedule:function(e,t){e.state,e.commit,e.dispatch;var n=e.rootState,i=t.scheduleSetup,r=Ze()(n.scriptSetup.parameterValues),a=n.scriptConfig.scriptConfig.name,s=Vi(r);return s.append("__script_name",a),s.append("__schedule_config",JSON.stringify(i)),Qe["a"].post("schedule",s).catch((function(e){throw 422===e.response.status&&(e.userMessage=e.response.data),e}))}}},Ri={namespaced:!0,state:{pageLoading:!1},actions:{setLoading:function(e,t){var n=e.commit;n("SET_LOADING",t)}},mutations:{SET_LOADING:function(e,t){e.pageLoading=t}}},Mi=(n("b64b"),n("07ac"),n("ddb0"),n("cee4")),$i={namespaced:!0,state:{currentExecutor:null,executors:{}},mutations:{ADD_EXECUTOR:function(e,t){e.executors[t.state.id]=t},SELECT_EXECUTOR:function(e,t){e.currentExecutor=t},REMOVE_EXECUTOR:function(e,t){delete e.executors[t.state.id],e.currentExecutor===t&&(e.currentExecutor=null)}},getters:{activeExecutors:function(e){var t=Object.keys(e.executors).map((function(t){return e.executors[t]}));return t.filter((function(e){return e.state.status===pn||e.state.status===fn}))},hasActiveExecutors:function(e,t){return!Object(i["y"])(t.activeExecutors)}},actions:{init:function(e){var t=e.state,n=e.commit,r=e.dispatch,a=this;Qe["a"].get("executions/active").then((function(e){var s=e.data;s.sort((function(e,t){return parseInt(e)-parseInt(t)}));for(var o=[],c=function(e){var t=s[e];o.push(Qe["a"].get("executions/config/"+t).then((function(e){var i=e.data,r=En(t,i.scriptName,i.parameterValues);return a.registerModule(["executions",t],r),a.dispatch("executions/"+t+"/reconnect"),n("ADD_EXECUTOR",r),r})))},l=0;l<s.length;l++)c(l);Object(i["D"])(t.currentExecutor)&&Mi["a"].all(o).then(Mi["a"].spread((function(){if(Object(i["D"])(t.currentExecutor)&&!Object(i["D"])(a.state.scripts.selectedScript)){for(var e=a.state.scripts.selectedScript,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];for(var c=0,l=s;c<l.length;c++){var u=l[c];if(e===u.state.scriptName){r("selectExecutor",u);break}}}}))).catch((function(e){return console.log(e)}))}))},selectScript:function(e,t){var n=e.state,r=(e.commit,e.dispatch),a=t.selectedScript,s=null,o=Object.values(n.executors).filter((function(e){return e.state.scriptName===a}));Object(i["y"])(o)||(o.sort((function(e,t){return parseInt(e.state.id)-parseInt(t.state.id)})),s=o[0]),r("selectExecutor",s)},startExecution:function(e){var t=e.rootState,n=e.commit,r=e.dispatch,a=this,s=Ze()(t.scriptSetup.parameterValues),o=t.scriptConfig.scriptConfig.name,c=Vi(s);c.append("__script_name",o);var l=En(null,o,s);a.registerModule(["executions","temp"],l),a.dispatch("executions/temp/setInitialising"),r("selectExecutor",l),Qe["a"].post("executions/start",c).then((function(e){var t=e.data;a.unregisterModule(["executions","temp"]),a.registerModule(["executions",t],l),a.dispatch("executions/"+t+"/start",t),a.dispatch("executions/"+t+"/reconnect"),n("ADD_EXECUTOR",l)})).catch((function(e){var t=Pi()(e,"response.status"),n=Pi()(e,"response.data");(Object(i["D"])(e.response)||Object(i["A"])(n))&&(n="Connection error. Please contact the system administrator"),a.dispatch("executions/temp/setErrorStatus"),401!==t&&a.dispatch("executions/temp/appendLog","\n\n"+n),a.unregisterModule(["executions","temp"])}))},stopAll:function(e){var t=e.getters,n=e.dispatch,r=t.activeExecutors;return Object(i["y"])(r)?Promise.resolve():new Promise((function(e,i){var a;a=1===r.length?"Some script is running. Do you want to abort it?":r.length+" scripts are running. Do you want to abort them?";var s=confirm(a);if(!0===s){var o=r.map((function(e){return n(e.state.id+"/abort")}));Promise.all(o).catch((function(e){return console.log("Failed to stop an executor: "+e)})).finally((function(){var n=0,i=setInterval(r,50);function r(){(n>20||!t.hasActiveExecutors)&&(e(),clearInterval(i)),n++}}))}else i()}))},selectExecutor:function(e,t){var n=e.commit,r=e.state,a=e.dispatch,s=r.currentExecutor;if(!Object(i["D"])(s)){if(t&&!Object(i["D"])(t.state.id)&&t.state.id===s.state.id)return;[mn,vn,bn].includes(s.state.status)&&a("_removeExecutor",s)}n("SELECT_EXECUTOR",t),t&&a("scriptSetup/reloadModel",{values:Ze()(t.state.parameterValues),forceAllowedValues:!0,scriptName:t.state.scriptName},{root:!0})},_removeExecutor:function(e,t){e.dispatch;var n=e.state,i=e.commit;t.state.id in n.executors&&(this.unregisterModule(["executions",t.state.id]),i("REMOVE_EXECUTOR",t))}}},Ui=(n("5319"),{namespaced:!0,state:{scripts:[],selectedScript:null,predefinedParameters:null},actions:{init:function(e){var t=e.commit,n=e.dispatch;Li.afterEach((function(e,t){n("selectScriptByHash")})),Qe["a"].get("scripts").then((function(e){var i=e.data,r=i.scripts;r.sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())})),t("SET_SCRIPTS",r),n("selectScriptByHash")}))},selectScriptByHash:function(e){var t,n,a=e.state,s=e.commit;"script"===Li.currentRoute.name?(t=Li.currentRoute.params["scriptName"],n=Li.currentRoute.query):(n=null,t=null);var o,c=null,l=Object(ce["a"])(a.scripts);try{for(l.s();!(o=l.n()).done;){var u=o.value,d=Oe(u.name);if(d===t){c=u.name;break}}}catch(h){l.e(h)}finally{l.f()}!Object(i["A"])(t)&&Object(i["D"])(c)&&(c=t),Object(i["z"])(n)&&(n=null),s("SELECT_SCRIPT",{selectedScript:c,predefinedParameters:n}),Object(i["z"])(n)||r["a"].nextTick((function(){return Li.replace({query:null})}))}},mutations:{SET_SCRIPTS:function(e,t){e.scripts=t},SELECT_SCRIPT:function(e,t){var n=t.selectedScript,i=t.predefinedParameters;e.selectedScript=n,e.predefinedParameters=i}}}),Bi=n("63ea"),Hi=n.n(Bi),Wi={namespaced:!0,state:{parameterValues:{},forcedValueParameters:[],errors:{},nextReloadValues:null,_parameterAllowedValues:{},_default_values_from_config:{}},actions:{reset:function(e){var t=e.commit;t("SET_ERRORS",{}),t("SET_VALUES",{}),t("SET_FORCED_VALUE_PARAMETERS",[]),t("SET_NEXT_RELOAD_VALUES",null),t("RESET_DEFAULT_VALUES")},initFromParameters:function(e,t){var n=e.state,r=e.dispatch,a=e.commit,s=t.scriptConfig,o=t.parameters,c=n._parameterAllowedValues;if(a("CACHE_PARAMETER_ALLOWED_VALUES",o),!Object(i["D"])(n.nextReloadValues)&&!Object(i["D"])(s)){var l=n.nextReloadValues.forceAllowedValues,u=n.nextReloadValues.parameterValues,d=n.nextReloadValues.scriptName,h=n.nextReloadValues.clientModelId;if(d!==s.name)a("SET_NEXT_RELOAD_VALUES",null);else if(h===s.clientModelId)return a("SET_VALUES",u),a("SET_NEXT_RELOAD_VALUES",null),void a("SET_FORCED_VALUE_PARAMETERS",l?Object.keys(u):[])}if(a("UPDATE_FORCED_PARAMETERS",{oldParameterAllowedValues:c}),Object(i["z"])(n.parameterValues)){var f,p={},m=Object(ce["a"])(o);try{for(m.s();!(f=m.n()).done;){var v=f.value,b=Object(i["D"])(v.default)?null:v.default;p[v.name]=b,Object(i["D"])(p[v.name])||a("MEMORIZE_DEFAULT_VALUE",{parameterName:v.name,defaultValue:b})}}catch(w){m.e(w)}finally{m.f()}r("_setAndSendParameterValues",p)}else{var g,E=Object(ce["a"])(o);try{for(E.s();!(g=E.n()).done;){var O=g.value,y=O.name,C=Object(i["D"])(O.default)?null:O.default,x=n._default_values_from_config[y],_=n.parameterValues[y];(Object(i["B"])(_)||!Object(i["D"])(C)&&x===_)&&r("setParameterValue",{parameterName:y,value:C}),Object(i["D"])(C)||a("MEMORIZE_DEFAULT_VALUE",{parameterName:y,defaultValue:C})}}catch(w){E.e(w)}finally{E.f()}}},setParameterValue:function(e,t){e.state;var n=e.commit,i=e.dispatch,r=t.parameterName,a=t.value;n("UPDATE_SINGLE_VALUE",{parameterName:r,value:a}),i("sendValueToServer",{parameterName:r,value:a})},setParameterError:function(e,t){var n=e.commit,i=t.parameterName,r=t.errorMessage;n("UPDATE_PARAMETER_ERROR",{parameterName:i,errorMessage:r})},reloadModel:function(e,t){var n=e.state,r=e.commit,a=e.dispatch,s=t.values,o=t.forceAllowedValues,c=t.scriptName;if(r("SET_FORCED_VALUE_PARAMETERS",[]),!Hi()(n.parameterValues,s)){var l=Object(i["v"])(16);r("SET_VALUES",s),r("SET_NEXT_RELOAD_VALUES",{parameterValues:s,forceAllowedValues:o,scriptName:c,clientModelId:l}),a("scriptConfig/reloadModel",{scriptName:c,parameterValues:s,clientModelId:l},{root:!0})}},_setAndSendParameterValues:function(e,t){e.state;var n=e.commit,r=e.dispatch;n("SET_VALUES",t),Object(i["o"])(t,(function(e,t){return r("sendValueToServer",{parameterName:e,value:t})}))},sendValueToServer:function(e,t){var n=e.state,i=(e.commit,e.dispatch),r=t.parameterName,a=t.value,s=r in n.errors?null:a;i("scriptConfig/sendParameterValue",{parameterName:r,value:s},{root:!0})}},mutations:{SET_VALUES:function(e,t){e.parameterValues=Ze()(t)},SET_FORCED_VALUE_PARAMETERS:function(e,t){e.forcedValueParameters=Ze()(t)},SET_ERRORS:function(e,t){e.errors=t},UPDATE_SINGLE_VALUE:function(e,t){var n=t.parameterName,a=t.value;e.parameterValues[n]!==a&&(r["a"].set(e.parameterValues,n,a),Object(i["K"])(e.forcedValueParameters,n))},UPDATE_PARAMETER_ERROR:function(e,t){var n=t.parameterName,r=t.errorMessage;Object(i["A"])(r)?delete e.errors[n]:e.errors[n]=r},SET_NEXT_RELOAD_VALUES:function(e,t){e.nextReloadValues=t},CACHE_PARAMETER_ALLOWED_VALUES:function(e,t){e._parameterAllowedValues=t.filter((function(e){return!Object(i["D"])(e.values)})).reduce((function(e,t){return e[t.name]=t.values,e}),{})},UPDATE_FORCED_PARAMETERS:function(e,t){var n,r=t.oldParameterAllowedValues,a=e._parameterAllowedValues,s=Object(ce["a"])(Ze()(e.forcedValueParameters));try{for(s.s();!(n=s.n()).done;){var o=n.value,c=r[o],l=a[o];(Object(i["D"])(c)||Object(i["D"])(l)||!Hi()(c,l))&&Object(i["K"])(e.forcedValueParameters,o)}}catch(u){s.e(u)}finally{s.f()}},RESET_DEFAULT_VALUES:function(e){e._default_values_from_config={}},MEMORIZE_DEFAULT_VALUE:function(e,t){var n=t.parameterName,i=t.defaultValue;e._default_values_from_config[n]=i}}},zi={namespaced:!0,state:{serverName:null,enableScriptTitles:null,version:null},mutations:{SET_CONFIG:function(e,t){e.serverName=t.title,e.version=t.version,e.enableScriptTitles=t.enableScriptTitles}},actions:{init:function(e){var t=e.commit;Qe["a"].get("conf").then((function(e){var n=e.data;t("SET_CONFIG",n)}))}}};r["a"].use(E["a"]);var Gi=new E["a"].Store({modules:{scripts:Ui,serverConfig:zi,scriptConfig:st(),scriptSetup:Wi,executions:$i,auth:Ni["a"],history:Object(Di["a"])(),page:Ri,scriptSchedule:Fi},actions:{init:function(e){var t=e.dispatch;t("auth/init"),t("serverConfig/init"),t("scripts/init"),t("executions/init")},resetScript:function(e){var t=e.dispatch,n=e.state,i=n.scripts.selectedScript;t("scriptSetup/reset"),t("scriptConfig/reloadScript",{selectedScript:i})},logout:function(e){var t=e.dispatch;t("executions/stopAll").then((function(){return t("auth/logout")})).then((function(){return location.reload()})).catch((function(e){return e&&Object(i["H"])(e)}))}},mutations:{},strict:!1});Gi.watch((function(e){return e.scripts.selectedScript}),(function(e){Gi.dispatch("resetScript"),Gi.dispatch("executions/selectScript",{selectedScript:e})})),Gi.watch((function(e){return e.scripts.predefinedParameters}),(function(e){Object(i["D"])(e)||Gi.dispatch("scriptSetup/reloadModel",{values:e,forceAllowedValues:!1,scriptName:Gi.state.scripts.selectedScript})})),Gi.watch((function(e){return e.scriptConfig.parameters}),(function(e){var t=Gi.state.scriptConfig.scriptConfig,n=t?t.name:null;Gi.dispatch("scriptSetup/initFromParameters",{scriptName:n,parameters:e,scriptConfig:t})})),Qe["a"].interceptors.response.use((function(e){return e}),(function(e){throw 401===Pi()(e,"response.status")&&Gi.dispatch("auth/setAuthenticated",!1),e})),window.addEventListener("beforeunload",(function(e){if(Gi.getters["executions/hasActiveExecutors"]){e=e||window.event;var t="Closing the page will stop all running scripts. Are you sure?";return e.returnValue=t,t}}));var qi=Gi,Ji=n("f738");r["a"].config.productionTip=!1,Object(i["o"])(Ji["a"],(function(e,t){r["a"].directive(e,t)})),new r["a"]({router:Li,store:qi,render:function(e){return e(ii)}}).$mount("#app")},"76e3":function(e,t,n){},"782f":function(e,t,n){},"79f2":function(e,t,n){},"7a30":function(e,t,n){},"7ace":function(e,t,n){},"7df7":function(e,t,n){},"7f51":function(e,t,n){"use strict";n("5e3c")},"81cf":function(e,t,n){"use strict";n("e1b2"),n("7352"),n("2e1d")},"85e1":function(e,t,n){"use strict";n("1684")},"867e":function(e,t,n){"use strict";n("79f2")},8694:function(e,t,n){"use strict";n.d(t,"n",(function(){return s})),n.d(t,"A",(function(){return o})),n.d(t,"x",(function(){return c})),n.d(t,"y",(function(){return l})),n.d(t,"B",(function(){return u})),n.d(t,"z",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"w",(function(){return f})),n.d(t,"J",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"D",(function(){return O})),n.d(t,"m",(function(){return y})),n.d(t,"K",(function(){return C})),n.d(t,"g",(function(){return x})),n.d(t,"v",(function(){return _})),n.d(t,"H",(function(){return w})),n.d(t,"k",(function(){return S})),n.d(t,"r",(function(){return j})),n.d(t,"u",(function(){return k})),n.d(t,"E",(function(){return L})),n.d(t,"F",(function(){return D})),n.d(t,"G",(function(){return I})),n.d(t,"t",(function(){return P})),n.d(t,"i",(function(){return N})),n.d(t,"o",(function(){return V})),n.d(t,"O",(function(){return F})),n.d(t,"f",(function(){return R})),n.d(t,"M",(function(){return M})),n.d(t,"P",(function(){return $})),n.d(t,"N",(function(){return B})),n.d(t,"L",(function(){return H})),n.d(t,"s",(function(){return G})),n.d(t,"l",(function(){return q})),n.d(t,"j",(function(){return K})),n.d(t,"S",(function(){return X})),n.d(t,"h",(function(){return Q})),n.d(t,"Q",(function(){return Y})),n.d(t,"I",(function(){return Z})),n.d(t,"R",(function(){return ee})),n.d(t,"p",(function(){return te})),n.d(t,"q",(function(){return ne})),n.d(t,"C",(function(){return ie}));n("c7eb");var i=n("2909"),r=n("b85c"),a=(n("ade3"),n("1da1"),n("53ca"));n("498a"),n("e9c4"),n("d9e2"),n("b0c0"),n("a434"),n("d3b7"),n("25f0"),n("ac1f"),n("5319"),n("841c"),n("8a79"),n("a15b"),n("13d5"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("2ca0"),n("3ca3"),n("ddb0"),n("9861"),n("14d9"),n("4d63"),n("c607"),n("2c3e"),n("00b4");function s(e,t){var n=t.toLowerCase(),i=e.previousSibling;while(!O(i)){if(i.tagName.toLowerCase()===n)return i;i=i.previousSibling}var r=e.nextSibling;while(!O(r)){if(r.tagName.toLowerCase()===n)return r;r=r.nextSibling}return null}function o(e){return O(e)||"string"===typeof e&&0===e.length}function c(e){return O(e)||"string"===typeof e&&0===e.trim().length}function l(e){return O(e)||0===e.length}function u(e){return!!O(e)||("string"===typeof e||Array.isArray(e)?0===e.length:"object"===Object(a["a"])(e)&&d(e))}function d(e){if(O(e))return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function h(e,t){f(e,t)||e.classList.add(t)}function f(e,t){return!O(e.classList)&&e.classList.contains(t)}function p(e,t){e.classList.remove(t)}function m(e,t){function n(e,n){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,arguments["message"]&&(this.message=arguments["message"]),t&&t.apply(this,arguments)}return n.prototype=Object.create(Error.prototype),n.prototype.name=e,n.prototype.constructor=n,n}var v=m("HttpRequestError",(function(e,t){this.code=e||-1,this.message=t||""})),b=m("SocketClosedError",(function(e,t){this.code=e||-1,this.reason=t||""})),g=m("HttpForbiddenError",(function(e,t){this.code=e||-1,this.message=t||""})),E=m("HttpUnauthorizedError",(function(e,t){this.code=e||-1,this.message=t||""}));function O(e){return"undefined"===typeof e||null===e}function y(e){while(e.firstChild)e.removeChild(e.firstChild)}function C(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}function x(e){e.splice(0,e.length)}function _(e){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var n=t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t();if(e&&e>0){if(n.length<e)while(n.length<e)n+=n;n.length>e&&(n=n.substring(0,e))}return n}function w(e){(console.error||console.log).call(console,e.stack||e)}function S(e){var t=document.getElementById(e).innerHTML.trim(),n=document.createElement("template");n.innerHTML=t;var i=n.content.childNodes[0],r=e.replace(/-template$/g,"");return h(i,r),i}function A(){var e=window.location.search;if(!e||e.length<=1)return{};for(var t=e.substr(1).split("&"),n={},i=0;i<t.length;i++){var r=t[i].split("=",2);if(2===r.length){var a=decodeURIComponent(r[0].replace(/\+/g," ")),s=decodeURIComponent(r[1].replace(/\+/g," "));n[a]=s}}return n}function j(e,t){var n=A(t);return n[e]}function T(){var e=window.location.pathname;return e.substring(0,e.lastIndexOf("/"))}function k(e){var t=window.location,n="https:"===t.protocol.toLowerCase(),i=n?"wss":"ws",r=i+"://"+t.host,a=T();return a&&(r+=a),o(e)?r:(r.endsWith("/")||(r+="/"),r+e)}function L(e){return 2===e.readyState||3===e.readyState}function D(e){return 0===e.readyState}function I(e){return!O(e)&&1===e.readyState}function P(){return[location.protocol,"//",location.host,location.pathname].join("")}function N(e,t){return-1!==e.indexOf(t)}function V(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];t(n,i)}}function F(e){return"boolean"===typeof e?e:"string"===typeof e?"true"===e.toLowerCase():Boolean(e)}function R(e,t){if(e===t)return!0;if(O(e)&&O(t))return!0;if(O(e)!==O(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function M(e,t,n){if(O(n)&&(n=!1),"checkbox"===e.type?(e.checked=t,e.indeterminate=O(t)):e.value=t,n){var i=document.createEvent("HTMLEvents"),r="input";"SELECT"===e.tagName&&(r="change"),i.initEvent(r,!0,!0),e.dispatchEvent(i)}}function $(e,t){for(var n={},i=0;i<e.length;i++){var r=e[i];n[r[t]]=r}return n}function U(e,t){return O(e)&&O(t)?0:O(e)?-1:O(t)?1:null}function B(e){var t=function(t,n){var i=U(t,n);if(!O(i))return i;var r=t[e],a=n[e],s=U(t,n);return O(s)?r.toLowerCase().localeCompare(a.toLowerCase()):s};return t.andThen=function(e){return function(n,i){var r=t(n,i);return 0!==r?r:e(n,i)}},t}function H(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||!z(e,!1)){var n,i=W(e);n=!!O(i)||e.offsetTop<i.scrollTop,e.scrollIntoView(n)}}function W(e){var t=e.parentNode;while(!O(t)){if(t.scrollHeight>t.clientHeight)return t;t=t.parentNode}return t}function z(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=W(e);if(!n)return!1;var i=n.scrollTop,r=i+n.clientHeight,a=e.offsetTop,s=a+e.clientHeight;return t?s>i&&a<r:a>=i&&s<=r}function G(e,t){var n=G.canvas||(G.canvas=document.createElement("canvas")),i=n.getContext("2d");i.font=window.getComputedStyle(t,null).getPropertyValue("font");var r=i.measureText(e);return r.width}function q(e){return JSON.parse(JSON.stringify(e))}function J(e){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n);var i=t.toString();return t.removeAllRanges(),i}function K(e){if(navigator.clipboard){var t=J(e);navigator.clipboard.writeText(t)}else{var n,i,r,a="_hiddenCopyText_",s="INPUT"===e.tagName||"TEXTAREA"===e.tagName;s?(r=e,n=e.selectionStart,i=e.selectionEnd):(r=document.getElementById(a),r||(r=document.createElement("textarea"),r.style.position="absolute",r.style.left="9999px",r.style.top="0",r.id=a,document.body.appendChild(r)),r.value=J(e));var o=document.activeElement;r.focus(),r.setSelectionRange(0,r.value.length);try{document.execCommand("copy")}catch(c){console.error(c)}o&&"function"===typeof o.focus&&o.focus(),s?e.setSelectionRange(n,i):r.textContent="",document.body.removeChild(r),e.scrollIntoView()}}function X(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function Q(e,t){t.startsWith(".")&&(t=t.substring(0,t.length-1));var n=e;while(null!=n){if(f(n,t))return n;n=n.parentNode}return n}function Y(e){var t=new URLSearchParams;return V(e,(function(e,n){if(Array.isArray(n)){var i,a=Object(r["a"])(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.append(e,s)}}catch(o){a.e(o)}finally{a.f()}}else t.append(e,n)})),t.toString()}function Z(e,t){if(e>t)e++,t++;else if(t===e)return e;var n=Math.random()*(t-e);return Math.floor(n)+e}function ee(e){var t,n=Object(r["a"])(e.childNodes);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.nodeType===Node.TEXT_NODE&&(i.data=i.data.trim())}}catch(a){n.e(a)}finally{n.f()}}function te(e,t){var n=t.toLowerCase(),r=[],a=[];a.push.apply(a,Object(i["a"])(e.childNodes));while(!l(a)){var s=a.shift();s.tagName&&s.tagName.toLowerCase()===n&&r.push(s),a.push.apply(a,Object(i["a"])(s.childNodes))}return r}function ne(e){var t,n=e.files;return t=n&&n.length>0?n[0]:null,t}function ie(e,t){var n=e;n.startsWith("^")||(n="^"+n),n.endsWith("$")||(n+="$");var i=new RegExp(n);return i.test(t)}String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},8974:function(e,t,n){},"8f07":function(e,t,n){},9068:function(e,t,n){},"93c7":function(e,t,n){},"99af":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field combobox",class:{loading:e.loading},attrs:{"data-error":e.error,title:e.config.description}},[t("select",{ref:"selectField",staticClass:"validate",attrs:{id:e.config.name,disabled:e.disabled||0===e.options.length||e.loading,multiple:e.config.multiselect,required:e.config.required}},[e.showHeader?t("option",{directives:[{name:"trim-text",rawName:"v-trim-text"}],staticClass:"select-header",attrs:{disabled:"",value:""},domProps:{selected:!e.anythingSelected}},[e._v(" "+e._s(e.config.multiselect?"Choose your options":"Choose your option")+" ")]):e._e(),e._l(e.options,(function(n){return t("option",{directives:[{name:"trim-text",rawName:"v-trim-text"}],key:n.value,attrs:{disabled:n.disabled},domProps:{selected:n.selected,value:n.value}},[e._v(" "+e._s(n.value)+" ")])}))],2),t("label",{attrs:{for:e.config.name}},[e._v(e._s(e.config.name))]),e.loading?t("CircleSpinner",{staticClass:"loading-spinner"}):e._e(),e.searchEnabled?t("ComboboxSearch",{ref:"comboboxSearch",attrs:{comboboxWrapper:e.comboboxWrapper}}):e._e()],1)},r=[],a=n("b85c"),s=(n("d3b7"),n("ddb0"),n("d81d"),n("4de4"),n("a630"),n("3ca3"),n("14d9"),n("caad"),n("2532"),n("a15b"),n("7db0"),n("2d69"),n("8694")),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field combobox-search",on:{keydown:e.filteredStopPropagation}},[t("input",{ref:"textField",attrs:{id:e.id,autocomplete:"one-time-code"},domProps:{value:e.value},on:{blur:function(t){e.focused=!1},focus:function(t){e.focused=!0},input:e.inputFieldChanged}}),t("label",{class:{active:e.labelActive},attrs:{for:e.id}},[e._v("Search")])])},c=[],l={name:"ComboboxSearch",props:{comboboxWrapper:{type:Object}},data:function(){return{id:null,value:"",focused:!1,heightStyle:null}},mounted:function(){this.id="combobox-search-"+Object(s["S"])(),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},computed:{labelActive:function(){return!Object(s["A"])(this.value)||this.focused}},watch:{comboboxWrapper:function(){var e=this,t=this.$el,n=this.comboboxWrapper;if(t.parentNode&&t.parentNode.removeChild(t),n.dropdown){u(n),d(n.dropdown.options,"onOpenEnd",(function(){e.focus(),Object(s["D"])(e.heightStyle)&&(e.heightStyle=n.dropdown.dropdownEl.style.height),n.dropdown.dropdownEl.style.maxHeight=e.heightStyle,n.dropdown.dropdownEl.style.height=null})),d(n.dropdown.options,"onCloseEnd",(function(){n.dropdown.dropdownEl.style.maxHeight=null}));var i=n.dropdown.dropdownEl.getElementsByClassName("disabled");if(i.length>0){var r=i[0];Object(s["m"])(r),r.appendChild(t),Object(s["e"])(r,"combobox-search-header")}this.executeSearch(this.value),this.heightStyle=null}}},methods:{inputFieldChanged:function(){var e=this.$refs.textField,t=e.value;this.value=t,this.executeSearch(t)},focus:function(){this.$refs.textField&&this.$refs.textField.focus()},executeSearch:function(e){e=e.toLowerCase();var t,n=this.comboboxWrapper.dropdown.dropdownEl.getElementsByTagName("li"),i=Object(a["a"])(n);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.textContent.toLowerCase().includes(e)||Object(s["w"])(r,"disabled")||Object(s["w"])(r,"selected");o?Object(s["J"])(r,"search-hidden"):Object(s["e"])(r,"search-hidden")}}catch(c){i.e(c)}finally{i.f()}},filteredStopPropagation:function(e){e.which!==M.keys.ESC&&e.which!==M.keys.ENTER&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP&&e.which!==M.keys.TAB&&e.stopPropagation()}}};function u(e){var t=function(e){var t=Object(s["h"])(e.target,"input-field");!Object(s["D"])(t)&&Object(s["w"])(t,"combobox-search")&&e.stopPropagation()};e.dropdownOptions.addEventListener("click",t,{capture:!0})}function d(e,t,n){if(e[t]){var i=e[t];e[t]=function(){i(),n()}}else e[t]=n}var h=l,f=(n("c8f1"),n("2877")),p=Object(f["a"])(h,o,c,!1,null,"12d46f3f",null),m=p.exports,v=n("2b0e"),b=function(){var e=this;e._self._c;return e._m(0)},g=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"preloader-wrapper small active"},[t("div",{staticClass:"spinner-layer"},[t("div",{staticClass:"circle-clipper left"},[t("div",{staticClass:"circle"})]),t("div",{staticClass:"gap-patch"},[t("div",{staticClass:"circle"})]),t("div",{staticClass:"circle-clipper right"},[t("div",{staticClass:"circle"})])])])}],E={name:"CircleSpinner"},O=E,y=Object(f["a"])(O,b,g,!1,null,"d254106e",null),C=y.exports,x={name:"Combobox",components:{CircleSpinner:C,ComboboxSearch:m},props:{config:Object,value:[String,Array],disabled:{type:Boolean,default:!1},forceValue:{type:Boolean,default:!1},dropdownContainer:null,showHeader:{type:Boolean,default:!0}},data:function(){return{options:[],anythingSelected:!1,error:"",comboboxWrapper:null}},computed:{searchEnabled:function(){return!this.disabled&&this.options.length>10},loading:function(){return this.config.loading}},watch:{"config.values":{immediate:!0,handler:function(e){this.setNewOptions(e)}},forceValue:{immediate:!0,handler:function(){this.setNewOptions(this.config.values)}},value:{immediate:!0,handler:function(e){this._fixValueByAllowedValues(this.config.values)||this._selectValue(e)}},disabled:function(){var e=this;this.$nextTick((function(){return e.rebuildCombobox()}))},loading:function(){var e=this;this.$nextTick((function(){return e.rebuildCombobox()}))},showHeader:function(){var e=this;this.$nextTick((function(){return e.rebuildCombobox()}))}},mounted:function(){var e=this;this.$refs.selectField.onchange=function(){var t;t=e.config.multiselect?Array.from(e.$refs.selectField.selectedOptions).filter((function(e){return!e.disabled})).map((function(e){return e.value})):e.$refs.selectField.value,e.emitValueChange(t)},this.rebuildCombobox(),this.$watch("error",(function(e){var t=Object(s["n"])(this.$refs.selectField,"input");Object(s["D"])(t)||t.setCustomValidity(e)}),{immediate:!0})},beforeDestroy:function(){var e=M.FormSelect.getInstance(this.$refs.selectField);e.destroy()},methods:{emitValueChange:function(e){this._validate(this.asArray(e)),this.$emit("input",e)},_fixValueByAllowedValues:function(e){if(Object(s["D"])(this.value)||""===this.value||this.value===[]||this.forceValue)return!1;var t;if(this.config.multiselect)if(Array.isArray(this.value)){t=[];for(var n=0;n<this.value.length;n++){var i=this.value[n];Object(s["i"])(e,i)&&t.push(i)}if(t.length===this.value.length)return!1}else t=Object(s["i"])(e,this.value)?[this.value]:[];else{if(Object(s["i"])(e,this.value))return!1;t=null}return this.emitValueChange(t),!0},_selectValue:function(e){var t=this.asArray(e);this.anythingSelected=!1;for(var n=0;n<this.options.length;n++){var i=this.options[n];i.selected=Object(s["i"])(t,i.value),i.selected&&(this.anythingSelected=!0)}this._validate(t),this.$nextTick(function(){this.updateComboboxValue()}.bind(this))},_validate:function(e){var t=this;if(this.config.required&&0===e.length)this.error="required";else{var n=e.filter((function(e){return!t.config.values.includes(e)}));Object(s["y"])(n)?this.error="":1===e.length?this.error="Obsolete value":this.error="Obsolete values: "+n.join(",")}this.$emit("error",this.error)},rebuildCombobox:function(){var e=this;this.comboboxWrapper&&this.comboboxWrapper.destroy(),this.comboboxWrapper=M.FormSelect.init(this.$refs.selectField,{dropdownOptions:{constrainWidth:!1,container:this.dropdownContainer,multiple:this.config.multiselect,onCloseEnd:function(){e.$refs.selectField&&e.setNewOptions(e.config.values)}}}),cash(this.$refs.selectField).closest(".select-wrapper").find(".dropdown-content li").each((function(e){var t=e.getElementsByTagName("span")[0].innerText;t&&(e.title=t),Object(s["w"])(e,"disabled")&&e.removeAttribute("tabIndex")})),this.updateComboboxValue()},setNewOptions:function(e){var t=this;if(Object(s["D"])(e))this.options=[];else if(!(this.config.multiselect&&this.comboboxWrapper&&this.comboboxWrapper.dropdown&&this.comboboxWrapper.dropdown.isOpen)){for(var n=[],i=0;i<e.length;i++)n.push({value:e[i],selected:!1});var r=[];if(this.forceValue&&!Object(s["A"])(this.value)&&!Object(s["y"])(this.value)){var o,c=this.asArray(this.value),l=Object(a["a"])(c);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(!e.includes(u)){var d={value:u,selected:!1,disabled:!1};r.push(d)}}}catch(h){l.e(h)}finally{l.f()}n.unshift.apply(n,r)}this.options=n,this._fixValueByAllowedValues(this.config.values)||this._selectValue(this.value),Object(s["y"])(r)?this.$nextTick((function(){t.rebuildCombobox()})):v["a"].nextTick((function(){var e,n=Object(a["a"])(r);try{var i=function(){var n=e.value,i=t.options.find((function(e){return e.value===n.value}));v["a"].set(i,"disabled",!0)};for(n.s();!(e=n.n()).done;)i()}catch(h){n.e(h)}finally{n.f()}v["a"].nextTick((function(){t.rebuildCombobox()}))}))}},updateComboboxValue:function(){if(!Object(s["D"])(this.$refs.selectField)){var e=cash(this.$refs.selectField).closest(".select-wrapper").find("input").get(0);this.error?Object(s["e"])(e,"invalid"):Object(s["J"])(e,"invalid"),Object(s["D"])(this.comboboxWrapper)||(this.comboboxWrapper._setValueToInput(),this.comboboxWrapper._setSelectedStates())}},asArray:function(e){var t=e;return Object(s["A"])(t)?t=[]:Array.isArray(t)||(t=[t]),t}}},_=x,w=(n("e736"),Object(f["a"])(_,i,r,!1,null,"1d9a2872",null));t["a"]=w.exports},"9b39":function(e,t,n){},"9ca8":function(e,t,n){},"9ccb":function(e,t,n){"use strict";n("e1b2"),n("878d"),n("0b11")},"9de4":function(e,t,n){},"9e77":function(e,t,n){},a08a:function(e,t,n){"use strict";n("bce9")},a2f0:function(e,t,n){},a460:function(e,t,n){"use strict";n("e1b2"),n("619b"),n("d4b8"),n("bd1c"),n("4939"),n("4f8a"),n("948c"),n("f887"),n("39f0"),n("3b44"),n("9e77"),n("489f"),n("6ac7"),n("9068")},a65e:function(e,t,n){},a74f:function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"log-panel"},[t("div",{staticClass:"log-panel-shadow",class:{"shadow-top":!e.atTop&&e.atBottom,"shadow-bottom":e.atTop&&!e.atBottom,"shadow-top-bottom":!e.atTop&&!e.atBottom}}),t("a",{staticClass:"copy-text-button btn-icon-flat waves-effect waves-circle",on:{click:e.copyLogToClipboard}},[t("i",{staticClass:"material-icons"},[e._v("content_copy")])])])},r=[],a=(n("d3b7"),n("159b"),n("a630"),n("3ca3"),n("8694")),s=n("d4ec"),o=n("bee2"),c=n("3835"),l=n("262e"),u=n("2caf"),d=n("2909"),h=n("b85c"),f=(n("6062"),n("ddb0"),n("14d9"),n("a434"),n("4ec9"),n("38cf"),n("caad"),n("2532"),new Set(["0","1","2","3","4","5","6","7","8","9"]));function p(e){return f.has(e)}function m(e,t,n,i){var r=e.length;if(n>=r)e.push(t);else if(n>=i){var a=e[n];a<t?e.splice(n+1,0,t):a>t&&e.splice(n,0,t)}else{var s=Math.floor((i+n)/2),o=e[s];o!==t&&(o<t?m(e,t,s+1,i):m(e,t,n,s-1))}}var v=function(){function e(){Object(s["a"])(this,e),this.listeners=[],this.clear()}return Object(o["a"])(e,[{key:"addListener",value:function(e){this.listeners.push(e)}},{key:"write",value:function(e){for(var t=this.buffer+e,n=0,i=null,r="",a=0;a<t.length;a++){var s=t[a];if(null!==i){i+=s;var o=!0;if(2===i.length)o="["===s;else if(i.length>2&&L.has(s)){var c=O(i.substr(2,i.length-3));i=null,this.handleCommand(c,s),o=!1}else o=p(s)||";"===s;o||(null!==i&&(this.flushText(i),i=null),n=a)}else s===V?(this.flushText(r),r="",i=s):"\n"===s?(this.flushText(r),r="",this.currentPosition=0,this.currentLine++,this.maxLine=Math.max(this.maxLine,this.currentLine),n=a):"\r"===s?(this.flushText(r),r="",this.currentPosition=0,n=a):(r+=s,n=a)}this.flushText(r),this.buffer=t.substr(n+1);var l=this.changedLines;if(this.changedLines=[],l.length>0){var u,d=Object(h["a"])(this.listeners);try{for(d.s();!(u=d.n()).done;){var f=u.value;f.linesChanges(l)}}catch(m){d.e(m)}finally{d.f()}}}},{key:"clear",value:function(){this.lines=[],this.inlineImages={},this.lineStyles=new Map,this.currentLine=0,this.currentPosition=0,this.maxLine=0,this.buffer="",this.currentStyle=null,this.changedLines=[],this.savedCursorPosition=null;var e,t=Object(h["a"])(this.listeners);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.cleared()}}catch(i){t.e(i)}finally{t.f()}}},{key:"clearFullLine",value:function(){this.lines[this.currentLine]="",this.addChangedLine(this.currentLine)}},{key:"clearLineToRight",value:function(){var e=this.getLine(this.currentLine);e.length<=this.currentPosition||(this.lines[this.currentLine]=e.substring(0,this.currentPosition),this.addChangedLine(this.currentLine))}},{key:"clearLineToLeft",value:function(e){if(0!==e){var t=this.getLine(this.currentLine);if(t.length<=e)return this.lines[this.currentLine]="",void this.addChangedLine(this.currentLine);var n=" ".repeat(e);this.lines[this.currentLine]=n+t.substring(e),this.addChangedLine(this.currentLine)}}},{key:"deleteBottomLines",value:function(e){var t=this.lines.length;if(!(t<=e)){for(var n=e;n<=this.lines.length;n++)this.lineStyles.delete(n);for(var i=this.changedLines.length-1;i>=0;i--){var r=this.changedLines[i];if(!(r>=e))break;this.changedLines.splice(i,1)}this.lines=this.lines.splice(0,e),this.maxLine=Math.max(0,e-1),this.savedCursorPosition=null;var a,s=Object(h["a"])(this.listeners);try{for(s.s();!(a=s.n()).done;){var o=a.value;o.linesDeleted(e,t)}}catch(c){s.e(c)}finally{s.f()}}}},{key:"deleteTopLines",value:function(e){if(!(e<=0)){for(var t=0;t<e;t++)this.lineStyles.delete(t);for(var n=0;n<this.lines.length;n++){var i=n+e;this.lineStyles.has(i)&&(this.lineStyles.set(n,this.lineStyles.get(i)),this.lineStyles.delete(i))}this.lines=this.lines.splice(e),this.currentLine=Math.max(0,this.currentLine-e),this.savedCursorPosition=null,this.maxLine=Math.max(0,this.lines.length-1),this.changedLines=[];var r,a=Object(h["a"])(this.listeners);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.cleared()}}catch(c){a.e(c)}finally{a.f()}for(var o=0;o<this.lines.length;o++)this.changedLines.push(o)}}},{key:"getStyle",value:function(e){return this.lineStyles.get(e)}},{key:"flushText",value:function(e){if(0!==e.length){var t=this.getLine(this.currentLine);this.lines[this.currentLine]=E(t,this.currentPosition,e);var n=this.currentPosition+e.length;this.updateTextStyle(this.currentLine,this.currentPosition,n,this.currentStyle),this.currentPosition=n,this.addChangedLine(this.currentLine)}}},{key:"addChangedLine",value:function(e){m(this.changedLines,e,0,this.changedLines.length)}},{key:"getLine",value:function(e){var t=this.lines.length;while(t<=e)this.lines.push(""),t++;return this.lines[e]}},{key:"setStyle",value:function(e){e.isEmpty()?this.currentStyle=null:this.currentStyle=e}},{key:"setCursorPosition",value:function(e,t){this.currentLine=e,this.currentPosition=t}},{key:"handleCommand",value:function(e,t){var n=L.get(t);null!==n&&n.isValidArgumentsCount(e.length)&&n.handle(e,this)}},{key:"updateTextStyle",value:function(e,t,n,i){var r=null===i||i.isEmpty();if(this.lineStyles.has(e)){var a=this.lineStyles.get(e),s=0;while(s<a.length&&a[s].end<=t)s++;if(s>=a.length)r||a.push(new g(t,n,i));else{var o=a[s];if(o.start<t){if(s++,o.end>n)return a.splice(s,0,new g(t,n,i)),a.splice(s+1,0,new g(n,o.end,o.style)),void(o.end=t);o.end=t}a.splice(s,0,new g(t,n,i)),s++;while(s<a.length){var c=a[s];if(!(c.end<=n))return c.start>=n?void 0:void(c.start=n);a.splice(s,1)}}}else r||this.lineStyles.set(e,[new g(t,n,i)])}},{key:"removeInlineImage",value:function(e){this.inlineImages.hasOwnProperty(e)&&(delete this.inlineImages[e],this._notify_inline_image_change(e))}},{key:"setInlineImage",value:function(e,t){this.inlineImages[e]=t,this._notify_inline_image_change(e)}},{key:"_notify_inline_image_change",value:function(e){for(var t=[],n=0;n<this.lines.length;n++){var i=this.lines[n];i.includes(e)&&t.push(n)}if(t.length>0){var r,a=Object(h["a"])(this.listeners);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.linesChanges(t)}}catch(o){a.e(o)}finally{a.f()}}}}]),e}(),b=function(){function e(t){if(Object(s["a"])(this,e),this.styles=[],!Object(a["D"])(t)){var n,i=t.color,r=t.background,o=t.styles;if(Object(a["D"])(i)||(this.color=i),Object(a["D"])(r)||(this.background=r),!Object(a["y"])(o))(n=this.styles).push.apply(n,Object(d["a"])(o))}}return Object(o["a"])(e,[{key:"clone",value:function(){var t=new e;return t.color=this.color,t.background=this.background,t.styles=Object(d["a"])(this.styles),t}},{key:"isEmpty",value:function(){return Object(a["D"])(this.color)&&Object(a["D"])(this.background)&&Object(a["y"])(this.styles)}},{key:"equals",value:function(e){return this.color===e.color&&this.background===e.background&&Object(a["f"])(this.styles,e.styles)}}]),e}(),g=Object(o["a"])((function e(t,n,i){Object(s["a"])(this,e),this.start=t,this.end=n,this.style=i}));function E(e,t,n){return e.length<t?e+" ".repeat(t-e.length)+n:e.length===t?e+n:e.substr(0,t)+n+e.substr(t+n.length)}function O(e){var t,n=y(e,";"),i=[],r=Object(h["a"])(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(""!==a){var s=parseInt(a);s<0||isNaN(s)||i.push(s)}else i.push(0)}}catch(o){r.e(o)}finally{r.f()}return i}function y(e,t){if(""===e)return[""];for(var n=[],i=0,r=0;r<e.length;r++){var a=e[r];if(a===t){var s=e.substr(i,r-i);i=r+1,n.push(s)}}if(i<e.length){var o=e.substr(i,e.length-i);n.push(o)}return n}var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(s["a"])(this,e),this.minArgumentsCount=t,this.maxArgumentsCount=n}return Object(o["a"])(e,[{key:"isValidArgumentsCount",value:function(e){return this.minArgumentsCount<=e<=this.maxArgumentsCount}}]),e}(),x=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),t.call(this,1,10)}return Object(o["a"])(n,[{key:"handle",value:function(e,t){var n,i=Object(a["i"])(e,0),r=i||null==t.currentStyle?new b:t.currentStyle.clone(),s=Object(h["a"])(e);try{for(s.s();!(n=s.n()).done;){var o=n.value;D.has(o)?r.color=D.get(o):I.has(o)?r.background=I.get(o):P.has(o)?r.styles.push(P.get(o)):N.has(o)&&Object(a["K"])(r.styles,N.get(o))}}catch(c){s.e(c)}finally{s.f()}t.setStyle(r)}}]),n}(C),_=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(e){var i;return Object(s["a"])(this,n),i=t.call(this),i.moveUp=e,i}return Object(o["a"])(n,[{key:"handle",value:function(e,t){var n,i=e[0];n=this.moveUp?Math.max(0,t.currentLine-i):Math.min(t.currentLine+i,t.maxLine),t.setCursorPosition(n,t.currentPosition)}}]),n}(C),w=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(e){var i;return Object(s["a"])(this,n),i=t.call(this),i.moveRight=e,i}return Object(o["a"])(n,[{key:"handle",value:function(e,t){var n,i=e[0];n=this.moveRight?t.currentPosition+i:Math.max(0,t.currentPosition-i),t.setCursorPosition(t.currentLine,n)}}]),n}(C),S=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),t.call(this,1,2)}return Object(o["a"])(n,[{key:"handle",value:function(e,t){var n,i=Math.min(e[0],t.maxLine);n=1===e.length?0:e[1],n<0||i<0?console.log("Negative line/column are not allowed: were "+i+";"+n):t.setCursorPosition(i,n)}}]),n}(C),A=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"handle",value:function(e,t){t.savedCursorPosition=[t.currentLine,t.currentPosition]}}]),n}(C),j=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"handle",value:function(e,t){if(Object(a["D"])(t.savedCursorPosition))console.log("WARN! trying to restore cursor position, but nothing is saved");else{var n=Object(c["a"])(t.savedCursorPosition,2),i=n[0],r=n[1];t.setCursorPosition(i,r)}}}]),n}(C),T=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),t.call(this)}return Object(o["a"])(n,[{key:"handle",value:function(e,t){var n=e[0];0===n?t.clearLineToRight():1===n?t.clearLineToLeft(t.currentPosition):2===n?t.clearFullLine():console.log("WARN! Unsupported ["+n+"K command")}}]),n}(C),k=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),t.call(this)}return Object(o["a"])(n,[{key:"handle",value:function(e,t){var n=e[0];0===n?t.deleteBottomLines(t.currentLine+1):1===n?(t.deleteTopLines(t.currentLine),t.clearLineToLeft(t.currentPosition+1)):2===n||3===n?t.clear():console.log("WARN! Unsupported ["+n+"J command")}}]),n}(C),L=new Map;L.set("m",new x),L.set("K",new T),L.set("J",new k),L.set("H",new S),L.set("f",new S),L.set("A",new _(!0)),L.set("B",new _(!1)),L.set("C",new w(!0)),L.set("D",new w(!1)),L.set("s",new A),L.set("u",new j);var D=new Map;D.set(39,null),D.set(31,"red"),D.set(30,"black"),D.set(32,"green"),D.set(33,"yellow"),D.set(34,"blue"),D.set(35,"magenta"),D.set(36,"cyan"),D.set(37,"lightgray"),D.set(90,"darkgray"),D.set(91,"lightred"),D.set(92,"lightgreen"),D.set(93,"lightyellow"),D.set(94,"lightblue"),D.set(95,"lightmagenta"),D.set(96,"lightcyan"),D.set(97,"white");var I=new Map;I.set(49,null),I.set(41,"red"),I.set(40,"black"),I.set(42,"green"),I.set(43,"yellow"),I.set(44,"blue"),I.set(45,"magenta"),I.set(46,"cyan"),I.set(47,"lightgray"),I.set(100,"darkgray"),I.set(101,"lightred"),I.set(102,"lightgreen"),I.set(103,"lightyellow"),I.set(104,"lightblue"),I.set(105,"lightmagenta"),I.set(106,"lightcyan"),I.set(107,"white");var P=new Map;P.set(1,"bold"),P.set(2,"dim"),P.set(4,"underlined"),P.set(8,"hidden");var N=new Map;N.set(21,"bold"),N.set(22,"dim"),N.set(24,"underlined"),N.set(28,"hidden");var V="",F=(n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("00b4"),n("e3e8"),document.createElement("div")),R=new RegExp("https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}(\\.[a-z]{2,6})?(:\\d{2,6})?(\\.*([-a-zA-Z0-9@:%_\\+~#?//=])+&?)*","g"),M=function(){function e(t){Object(s["a"])(this,e),this.element=document.createElement("code"),this.terminalModel=t,t.addListener(this)}return Object(o["a"])(e,[{key:"linesChanges",value:function(t){var n=this,i=this.terminalModel;if(0!==t.length){for(var r=i.lines,s=this.element,o=s.childElementCount,c=new Map,l=document.createDocumentFragment(),u=t[t.length-1],d=o;d<=u;d++){var f=e.createLineElement();l.appendChild(f)}var p,m=Object(h["a"])(t);try{var v=function(){var t=p.value,s=void 0;t>=o?s=l.children[t-o]:(s=e.createLineElement(),c.set(t,s));var u=r[t],d=n.findImage(u);if(Object(a["D"])(d)){var h=i.getStyle(t),f=e.createLogLineChildren(u,h);f.forEach((function(e){return s.appendChild(e)}))}else{var m=document.createElement("img");m.src=d,s.appendChild(m)}};for(m.s();!(p=m.n()).done;)v()}catch(O){m.e(O)}finally{m.f()}var b,g=Object(h["a"])(l.children);try{for(g.s();!(b=g.n()).done;){var E=b.value;null===E.firstChild&&l.replaceChild(document.createElement("br"),E)}}catch(O){g.e(O)}finally{g.f()}c.forEach((function(e,t){s.replaceChild(e,s.children[t])})),s.appendChild(l)}}},{key:"cleared",value:function(){Object(a["m"])(this.element)}},{key:"linesDeleted",value:function(e,t){if(!(e>=this.element.childElementCount))for(var n=Math.min(t-1,this.element.childElementCount-1),i=n;i>=e;i--){var r=this.element.childNodes[i];this.element.removeChild(r)}}},{key:"findImage",value:function(e){var t=null;return Object(a["o"])(this.terminalModel.inlineImages,(function(n,i){e.includes(n)&&(t=i)})),t}}],[{key:"createLineElement",value:function(){return F.cloneNode()}},{key:"createTextAndAnchorElements",value:function(e){var t=[];if(R.test(e)){var n,i=0;R.lastIndex=0;while(null!==(n=R.exec(e))){if(n.index>i){var r=e.substring(i,n.index);t.push(document.createTextNode(r))}var a=document.createElement("a");a.href=n[0],a.innerText=n[0],t.push(a),i=R.lastIndex}if(i<e.length){var s=e.substring(i,e.length);t.push(document.createTextNode(s))}}else t.push(document.createTextNode(e));return t}},{key:"createLogLineChildren",value:function(t,n){if(Object(a["D"])(n))return e.createTextAndAnchorElements(t);var i,r=0,s=[],o=Object(h["a"])(n);try{for(o.s();!(i=o.n()).done;){var c=i.value;if(c.start>r){var l=t.substr(r,c.start-r),u=e.createStyledElements(l);s.push.apply(s,Object(d["a"])(u))}if(!Object(a["D"])(c.style)&&!c.style.isEmpty()){var f=t.substr(c.start,c.end-c.start),p=e.createStyledElements(f,c.style.color,c.style.background,c.style.styles);s.push.apply(s,Object(d["a"])(p)),r=c.end}}}catch(v){o.e(v)}finally{o.f()}if(r<t.length){var m=e.createStyledElements(t.substr(r));s.push.apply(s,Object(d["a"])(m))}return s}},{key:"createStyledElements",value:function(t,n,i,r){var s=e.createTextAndAnchorElements(t);if(!Object(a["D"])(n)||!Object(a["D"])(i)||!Object(a["D"])(r)){var o=document.createElement("span"),c="";if(Object(a["D"])(n)||(c+=" text_color_"+n),Object(a["D"])(i)||(c+=" background_"+i),!Object(a["D"])(r))for(var l=0;l<r.length;l++)c+=" text_style_"+r[l];return o.className=c,s.forEach(o.appendChild.bind(o)),[o]}return s}}]),e}(),$=function(){function e(){Object(s["a"])(this,e),this.terminalModel=new v,this.terminal=new M(this.terminalModel),this.element=this.terminal.element,Object(a["e"])(this.element,"terminal-output")}return Object(o["a"])(e,[{key:"clear",value:function(){this.terminalModel.clear()}},{key:"write",value:function(e){this.terminalModel.write(e)}},{key:"removeInlineImage",value:function(e){this.terminalModel.removeInlineImage(e)}},{key:"setInlineImage",value:function(e,t){this.terminalModel.setInlineImage(e,t)}}]),e}(),U=function(){function e(){Object(s["a"])(this,e),this.element=document.createElement("code"),Object(a["e"])(this.element,"text-output")}return Object(o["a"])(e,[{key:"clear",value:function(){this.element.innerHTML=""}},{key:"write",value:function(e){this.element.appendChild(document.createTextNode(e))}},{key:"removeInlineImage",value:function(e){}},{key:"setInlineImage",value:function(e,t){console.log("WARNING! inline images are not supported for text output")}}]),e}(),B=function(){function e(){Object(s["a"])(this,e),this.element=document.createElement("iframe"),Object(a["e"])(this.element,"html-iframe-output"),this.element.style.border="none",this.element.style.fontFamily="monospace",this.element.style.padding=0}return Object(o["a"])(e,[{key:"clear",value:function(){this.element.srcdoc=""}},{key:"write",value:function(e){this.element.srcdoc+=e}},{key:"removeInlineImage",value:function(e){}},{key:"setInlineImage",value:function(e,t){console.log("WARNING! inline images are not supported for html output")}}]),e}(),H=n("c0c4"),W=n.n(H),z=function(){function e(){Object(s["a"])(this,e),this.element=document.createElement("code"),Object(a["e"])(this.element,"html-output"),this.element.style.whiteSpace="normal",this.rawText=""}return Object(o["a"])(e,[{key:"clear",value:function(){this.element.innerHTML="",this.element.lastTrimmedChildIndex=0,this.rawText=""}},{key:"write",value:function(e){this.rawText+=e,Object(a["m"])(this.element),this.element.appendChild(W.a.sanitize(this.rawText,{RETURN_DOM_FRAGMENT:!0}))}},{key:"removeInlineImage",value:function(e){}},{key:"setInlineImage",value:function(e,t){console.log("WARNING! inline images are not supported for html output")}}]),e}(),G={props:{autoscrollEnabled:{type:Boolean,default:!0},outputFormat:{type:String,default:"terminal"}},data:function(){return{atBottom:!1,atTop:!1,mouseDown:!1,scrollUpdater:null,needScrollUpdate:!1,text:""}},mounted:function(){var e=this;window.addEventListener("resize",this.revalidateScroll),window.addEventListener("resize",this.handleResize),this.scrollUpdater=window.setInterval((function(){if(e.needScrollUpdate){e.needScrollUpdate=!1;var t=!1;e.autoscrollEnabled&&(t=e.autoscroll()),t||e.recalculateScrollPosition()}}),40),this.renderOutputElement(),this.handleResize()},beforeDestroy:function(){window.removeEventListener("resize",this.revalidateScroll),window.removeEventListener("resize",this.handleResize),window.clearInterval(this.scrollUpdater)},methods:{recalculateScrollPosition:function(){var e=this.output.element,t=e.scrollTop,n=t+e.clientHeight+5>e.scrollHeight,i=0===t;this.needScrollUpdate||(this.atBottom=n,this.atTop=i)},autoscroll:function(){var e=this.output.element;return!(!this.atBottom||this.mouseDown)&&(e.scrollTop=e.scrollHeight,!0)},revalidateScroll:function(){this.needScrollUpdate=!0,this.handleResize()},handleResize:function(){var e=this.output.element;if(e){var t=window.innerHeight,n=this.$el.getBoundingClientRect(),i=t-n.top-20;e.style.height="".concat(i,"px")}},setLog:function(e){this.text="",this.output.clear(),this.recalculateScrollPosition(),this.appendLog(e)},appendLog:function(e){Object(a["D"])(e)||""===e||(this.text+=e,this.output.write(e),this.revalidateScroll())},removeInlineImage:function(e){this.output.removeInlineImage(e)},setInlineImage:function(e,t){this.output.setInlineImage(e,t)},copyLogToClipboard:function(){Object(a["j"])(this.output.element)},renderOutputElement:function(){var e=this;if(this.output&&this.$el){var t=this.$el.getElementsByClassName("log-content");Array.from(t).forEach((function(t){return e.$el.removeChild(t)}));var n=this.output.element;n.classList.add("log-content"),n.addEventListener("scroll",(function(){return e.recalculateScrollPosition()})),n.addEventListener("mousedown",(function(){return e.mouseDown=!0})),n.addEventListener("mouseup",(function(){return e.mouseDown=!1})),this.$el.insertBefore(n,this.$el.children[0]),this.revalidateScroll(),this.handleResize()}}},watch:{outputFormat:{immediate:!0,handler:function(){switch(this.outputFormat){case"terminal":this.output=new $;break;case"html_iframe":this.output=new B;break;case"html":this.output=new z;break;case"text":this.output=new U;break;default:console.log('WARNING! Unknown outputFormat: "'+this.outputFormat+'". Falling back to terminal'),this.output=new $}this.output.write(this.text),this.renderOutputElement()}}}},q=G,J=(n("7f51"),n("2877")),K=Object(J["a"])(q,i,r,!1,null,"7eb0ad8e",null);t["a"]=K.exports},a871:function(e,t,n){},aabd:function(e,t,n){"use strict";n("e1b2"),n("96c1"),n("68ec"),n("665b"),n("2b5f")},af07:function(e,t,n){},b0e7:function(e,t,n){},b50f:function(e,t,n){"use strict";n("e81f")},b520:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AwNCDIhQgCRaQAAAN5JREFUSMftlbENwjAQRZ/ZAYYgMETCEKS+GpgFGODqTJEMQbIELEFzSBayY0eIBnJV5Ivft/59yzDXz5cLLarqFjgDtYg8xgCqugIa4Cgiw3t/Edl3ASqgVdVlAt4BJXAN/RMT2AM9sImJePA1cAPqbIsMsDRAAQxA+bIrAN/FrHQJf99FKmtlwZMC3mlbT8TlwrMEApaQCx8b8nfvQSItztLVA9VHFoXSYq02V8RNgXsxjUY4awapnNt3afAC6GxP9pCbVBRtrfJEmikCJ/N5NIoicjeRDjjMb8ef1hO2zXARqcHXXgAAAABJRU5ErkJggg=="},b540:function(e,t,n){},b966:function(e,t,n){"use strict";n("782f")},ba6b:function(e,t,n){"use strict";n("b540")},bbc5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AwHCiU5ONa5owAAAURJREFUSMftlLtOAlEQhj8vjbbYyuJDGKsNGB9CC6spLNAHIGJtrAkUWEy1De9gIhA7fQeB2FJKZWHzk5DN4tldteNvJucy852ZzBzYKKCtdQfufgY0gRioAHNgDHTNbFga4O67QB+wH/wegWsz+woBtjP2lsE/gTYQATtADbgDFsAV0CucgcrypOANM3vLyPAYGAL7ujMqkkFT9j4rOICZvQIPWt4ULVEsmwT8ktT93ICK7EfAbyZ7UBQwlz0M+EWp+7kBY9nLgN/yfFQU0JW9VbdkDeAJ0NKyU2bQ+urzhbolUc0jvbwF7AEDM7soO8k9QdZpAJwDU6BuZtMyf1FdfR6rW+aqecfMXtx9oqwmGrhpIUBI7h5pomvAuyCzPH9RLunFDQU/AobuXv0zwArkdAXynIb8CpCRyf/J3atZJdooqG/Kn2dJuJ3WhgAAAABJRU5ErkJggg=="},bce9:function(e,t,n){},c360:function(e,t,n){},c6dd:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field",attrs:{"data-error":e.error,title:e.config.description}},[t("textarea",{ref:"textArea",staticClass:"materialize-textarea",attrs:{id:e.elementId,required:e.config.required,type:"text"},domProps:{value:e.value},on:{input:e.textAreaChanged}}),t("label",{class:{active:e.labelActive},attrs:{for:e.elementId}},[e._v(e._s(e.config.name))])])},r=[],a=(n("9ccb"),n("8694")),s={name:"TextArea",props:{value:[String],config:Object},data:function(){return{error:""}},mounted:function(){this.textAreaChanged()},watch:{value:{immediate:!0,handler:function(e){var t=this,n=this.$refs.textArea,i=!Object(a["D"])(n)&&n.value===e;!Object(a["D"])(n)&&i?this.doValidation(e):this.$nextTick((function(){t.$refs.textArea&&(t.doValidation(e),i||t.initTextArea())}))}},"config.max_length":function(){this.doValidation(this.value)}},computed:{elementId:function(){return this._uid},labelActive:function(){if(!Object(a["A"])(this.value))return!0;var e=this.$refs.textArea;return!Object(a["D"])(e)&&e===document.activeElement}},methods:{textAreaChanged:function(){var e=this.$refs.textArea,t=e.value;this.doValidation(t),this.$emit("input",t)},initTextArea:function(){M.textareaAutoResize(this.$refs.textArea),M.updateTextFields()},doValidation:function(e){var t=this.$refs.textArea;this.error=this.getValidationError(e),t.setCustomValidity(this.error),this.$emit("error",this.error)},getValidationError:function(e){var t=Object(a["x"])(e);return this.config.required&&t?"required":this.config.max_length&&e.length>this.config.max_length?"Max chars allowed: "+this.config.max_length:null}}},o=s,c=n("2877"),l=Object(c["a"])(o,i,r,!1,null,"c5535a10",null);t["a"]=l.exports},c8f1:function(e,t,n){"use strict";n("5c3b")},cbf2:function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("a",{staticClass:"save-button waves-effect btn-flat promisable-button",attrs:{disabled:!e.enabled},on:{click:e.onClick}},[!e.iconText||e.error||e.inProgress?e._e():t("i",{staticClass:"material-icons"},[e._v(e._s(e.iconText))]),e.error?t("i",{staticClass:"material-icons",attrs:{title:e.error}},[e._v("warning")]):e._e(),e.inProgress?t("div",{staticClass:"preloader-wrapper small active",style:e.preloaderStyle},[e._m(0)]):e._e(),e._v(" "+e._s(e.title)+" ")])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"spinner-layer"},[t("div",{staticClass:"circle-clipper left"},[t("div",{staticClass:"circle"})]),t("div",{staticClass:"gap-patch"},[t("div",{staticClass:"circle"})]),t("div",{staticClass:"circle-clipper right"},[t("div",{staticClass:"circle"})])])}],a=(n("168e"),n("8694")),s={name:"PromisableButton",props:{title:{type:String,default:"Save"},click:Function,preloaderStyle:{type:Object,default:function(){}},enabled:{default:!0},iconText:{type:String,default:null}},data:function(){return{inProgress:!1,error:null}},methods:{onClick:function(){var e=this;this.error=null,this.inProgress=!0,this.click().then((function(){e.error=null,e.inProgress=!1})).catch((function(t){Object(a["A"])(t.userMessage)?e.error="Failed to "+e.title:e.error=t.userMessage,e.inProgress=!1}))}}},o=s,c=(n("a08a"),n("2877")),l=Object(c["a"])(o,i,r,!1,null,"4d37eb86",null);t["a"]=l.exports},d07c:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field textfield",attrs:{"data-error":e.error,title:e.config.description}},[t("input",{ref:"textField",class:{validate:!e.disabled,autocomplete:e.autocomplete},attrs:{id:e.id,autocomplete:e.autofillName,disabled:e.disabled,required:e.config.required,type:e.fieldType},domProps:{value:e.value},on:{input:e.inputFieldChanged}}),t("label",{class:{active:e.labelActive},attrs:{for:e.id}},[e._v(e._s(e.config.name))])])},r=[],a=n("b85c"),s=n("ade3"),o=n("2909"),c=(n("a9e3"),n("ac1f"),n("5319"),n("99af4"),n("d81d"),n("d3b7"),n("ddb0"),n("00b4"),n("498a"),n("14d9"),n("caad"),n("2532"),n("e1b2"),n("41f4"),n("4935"),n("9ccb"),n("8694")),l={name:"Textfield",props:{value:[String,Number],config:Object,disabled:{type:Boolean,default:!1}},data:function(){return{error:"",id:null,autocompleteWrapper:null}},computed:{fieldType:function(){return this.config.secure?"password":"int"===this.config.type?"number":"text"},labelActive:function(){if(!Object(c["A"])(this.value))return!0;var e=this.$refs.textField;return!Object(c["D"])(e)&&e===document.activeElement},autocomplete:function(){return"editable_list"===this.config.type},autofillName:function(){var e,t;return null===(e=this.config)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.replace(/\s+/,"-")}},mounted:function(){var e=this;this.inputFieldChanged(),this.id=this._uid,this.autocomplete&&(this.autocompleteWrapper=M.Autocomplete.init(this.$refs.textField,{minLength:0}),this.updateAutocompleteData(),this.$refs.textField.addEventListener("change",(function(){return e.inputFieldChanged()})))},beforeDestroy:function(){this.autocompleteWrapper&&this.autocompleteWrapper.destroy()},watch:{value:{immediate:!0,handler:function(e){var t=this.$refs.textField;Object(c["D"])(t)||t.value!==e?this.$nextTick(function(){this.$refs.textField&&this._doValidation(this.value)}.bind(this)):this._doValidation(this.value)}},"config.required":{handler:function(){this.triggerRevalidationOnWatch()}},disabled:function(){this.triggerRevalidationOnWatch()},"config.min":{handler:function(){this.triggerRevalidationOnWatch()}},"config.values":{immediate:!0,handler:function(){this.autocompleteWrapper&&this.updateAutocompleteData()}}},methods:{inputFieldChanged:function(){var e=this.$refs.textField,t=e.value;this._doValidation(t),this.$emit("input",t)},getValidationError:function(e,t){if(this.disabled)return"";var n=Object(c["x"])(e);if(t.validity.badInput)return f(this.config.type);if(this.config.required&&n)return"required";if(!n){var i=u(e,this.config.type,this.config.min,this.config.max,this.config.max_length,this.config.regex);if(!Object(c["A"])(i))return i}return""},_doValidation:function(e){var t=this.$refs.textField;this.error=this.getValidationError(e,t),t.setCustomValidity(this.error),this.$emit("error",this.error)},triggerRevalidationOnWatch:function(){var e=this;this.$nextTick((function(){e.$refs.textField&&(e._doValidation(e.value),M.validate_field(cash(e.$refs.textField)))}))},updateAutocompleteData:function(){var e=Object.assign.apply(Object,[{}].concat(Object(o["a"])(this.config.values.map((function(e){return Object(s["a"])({},e,null)})))));this.autocompleteWrapper.updateData(e)},focus:function(){this.$refs.textField.focus(),this.triggerRevalidationOnWatch()}}};function u(e,t,n,i,r,a){if(!t||"text"===t){if(a){var s=Object(c["C"])(a.pattern,e);if(!s)return a.description?a.description:"pattern mismatch"}if(r&&e.length>r)return"Max chars allowed: "+r}if("int"===t){var o=/^(((-?[1-9])(\d*))|0)$/.test(e);if(!o)return f(t);var l=parseInt(e),u=!0,p="";return Object(c["D"])(n)||(p+="min: "+n,l<parseInt(n)&&(u=!1)),Object(c["D"])(i)||(l>parseInt(i)&&(u=!1),Object(c["A"])(p)||(p+=", "),p+="max: "+i),u?"":p}return"ip"===t?Object(c["A"])(d(e))||Object(c["A"])(h(e))?"":"IPv4 or IPv6 expected":"ip4"===t?d(e):"ip6"===t?h(e):""}function d(e){var t=e.trim().split(".");if(4!==t.length)return"IPv4 expected";var n,i=Object(a["a"])(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(Object(c["A"])(r))return"Empty IP block";if(!/^[12]?[0-9]{1,2}$/.test(r))return"Invalid block "+r;var s=parseInt(r,10);if(s>255)return"Out of range "+s}}catch(o){i.e(o)}finally{i.f()}return""}function h(e){var t=e.trim().split("::");if(t.length>2)return":: allowed only once";var n=[];n.push.apply(n,Object(o["a"])(t[0].split(":"))),2===t.length&&(n.push("::"),n.push.apply(n,Object(o["a"])(t[1].split(":"))));for(var i=2===t.length,r=!1,a=!1,s=0,l=0,u=n;l<u.length;l++){var h=u[l];if(a)return"IPv4 should be the last";if("::"===h)r=!0;else if(h.includes(".")&&(r||s>=6)){if(!Object(c["A"])(d(h)))return"Invalid IPv4 block "+h;a=!0,s++}else if(!/^[A-F0-9]{0,4}$/.test(h.toUpperCase()))return"Invalid block "+h;s++}return s<8&&!i||s>8?"Should be 8 blocks":""}function f(e){return"int"===e?"integer expected":e+" expected"}var p=l,m=n("2877"),v=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=v.exports},d7a3:function(e,t,n){},e001:function(e,t,n){"use strict";var i=function(){var e=this;e._self._c;return e._m(0)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-progress"},[t("div",{staticClass:"progress-wrapper"},[t("div",{staticClass:"progress"},[t("div",{staticClass:"indeterminate"})])])])}],a={name:"PageProgress"},s=a,o=(n("61cb"),n("2877")),c=Object(o["a"])(s,i,r,!1,null,"d7c5584e",null);t["a"]=c.exports},e1b2:function(e,t,n){"use strict";(function(e){n("a0c7"),n("586f"),n("068a");var t=n("5213");e.Component=t["a"]}).call(this,n("c8ba"))},e386:function(e,t,n){},e3e8:function(e,t,n){},e5f5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4AwFEiUTW1FKNgAAAitJREFUeNrtms9LVFEUxz8z2Y9dREQtkihXLZIWbdwICpEIQWDqLun0J0T/hUR/wYFop6gkbkISXNlC0V2LKINcaKtoV6G2mLuQ6d3XPOYKc+47X5jNu3cGvp937znnnrngcrlcLperrmqUDarqJeAFMAncAM4a8fUH+ArMAbMi8qMyAFUdAFaBm8Zf8mfgvojsdgxAVc8A28CdTFb6DnBPRA7bB5qRLzzKyDzAXeBh0UAMwEiG8W6kCoArGQK4WgVAoy4Zr1n3OsAB1B1AX4W534APRnwNAddTA9gQkWkL7lV1LpTvvgUcgANwAMmCYHugaQIKzESmfARGRWQ/yxUgIkeAAK8jU24Da6p6LdstkAOErmOAdQhJgqBlCMmygFUISdOgRQjJ6wBrEE6lEAoQngFvSiC8U9XL2VaCoQX9tATCIPAq61L4BITVyJTxOpwFHgDDkbHdrAGo6jiwCJwvGP4NPM8WgKqOAQsl5qdEZD1LAMH8EnChxPzbLNOgJfNd9QNSm1fVSVr/51fNNI2eWAHW3nxSAFbNJwFg2XzXAKyb7yoIqmoDOAc8iVV5IrJZ4Sc3gCkzAETkGFhOeG7YA+ZzPAv0tBxA3QHEYsBxwbP+UK1ZUH+HnqIAvhc8GwofqzqosgXWMlzt76sAWKZ1VTYXbQErHQMIvbwJWheNresTMBE61f/of9flL9JqWz0GblHc3elF/QK+hOP1SxH5icvlcrlcLleb/gI9LrnZwF+FngAAAABJRU5ErkJggg=="},e736:function(e,t,n){"use strict";n("9de4")},e81f:function(e,t,n){},e8d8:function(e,t,n){},e912:function(e,t,n){"use strict";n("2674")},e91a:function(e,t,n){},ecf2:function(e,t,n){"use strict";n("d81d"),n("4e82"),n("7db0"),n("d3b7");var i=n("8694"),r=n("47a9"),a=function(){return{state:{executions:[],selectedExecution:null,selectedExecutionId:null,loading:!1,detailsLoading:!1},namespaced:!0,actions:{init:function(e){var t=e.commit;t("SET_LOADING",!0),t("SET_EXECUTION_DETAILS",{execution:null,id:null}),r["a"].get("history/execution_log/short").then((function(e){var n=e.data;s(n);var i=n.map((function(e){return o(e)}));t("SET_EXECUTIONS",i),t("SET_LOADING",!1)}))},selectExecution:function(e,t){var n=e.commit,a=e.state;if(Object(i["A"])(t))return n("SET_EXECUTION_DETAILS",{id:t,execution:null}),void n("SET_DETAILS_LOADING",!1);var s=u(a.executions,t);Object(i["D"])(s)&&(s={id:t,user:"Unknown",script:"Unknown"}),n("SET_EXECUTION_DETAILS",{id:t,execution:s}),n("SET_DETAILS_LOADING",!0),r["a"].get("history/execution_log/long/"+t).then((function(e){var i=e.data;if(t===a.selectedExecutionId){var r=o(i);n("SET_EXECUTION_DETAILS",{id:t,execution:r}),n("SET_DETAILS_LOADING",!1)}})).catch((function(e){Object(i["H"])(e)}))}},mutations:{SET_LOADING:function(e,t){e.loading=t},SET_EXECUTIONS:function(e,t){e.executions=t},SET_EXECUTION_DETAILS:function(e,t){var n=t.execution,i=t.id;e.selectedExecution=n,e.selectedExecutionId=i},SET_DETAILS_LOADING:function(e,t){e.detailsLoading=t}}}};function s(e){e.sort((function(e,t){if(Object(i["D"])(e.startTime))return Object(i["D"])(t.startTime)?e.user.localeCompare(t.user):1;if(Object(i["D"])(t.startTime))return-1;var n=Date.parse(t.startTime)-Date.parse(e.startTime);return 0!==n?n:e.user.localeCompare(t.user)}))}function o(e){return e.startTimeString=c(e),e.fullStatus=l(e),e}function c(e){if(Object(i["D"])(e.startTime))return"";var t=new Date(e.startTime);return t.toLocaleDateString()+" "+t.toLocaleTimeString()}function l(e){return Object(i["D"])(e.exitCode)||Object(i["D"])(e.status)?Object(i["D"])(e.status)?void 0:e.status:e.status+" ("+e.exitCode+")"}function u(e,t){return e.find((function(e){return e.id===t}))}t["a"]=a},f040:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var i=function(){var e=this,t=e._self._c;return t("label",{staticClass:"input-field checkbox",attrs:{title:e.config.description}},[t("input",{ref:"checkbox",attrs:{id:e.config.name,type:"checkbox",disabled:e.disabled},domProps:{checked:e.boolValue},on:{input:e.emitValueChange}}),t("span",[e._v(e._s(e.config.name))])])},r=[],a=(n("a9e3"),n("8694")),s={props:{value:{type:[Boolean,String,Number]},config:Object,disabled:{type:[Boolean]}},computed:{boolValue:function(){return Object(a["O"])(this.value)}},mounted:function(){this.$refs.checkbox.indeterminate=Object(a["D"])(this.value),this.emitValueChange()},methods:{emitValueChange:function(){this.$refs.checkbox.indeterminate?this.$emit("input",void 0):this.$emit("input",this.$refs.checkbox.checked)}},watch:{value:{immediate:!0,handler:function(){var e=this;this.$nextTick((function(){e.value!==e.boolValue&&e.emitValueChange()}))}}}},o=s,c=n("2877"),l=Object(c["a"])(o,i,r,!1,null,null,null);t["a"]=l.exports},f444:function(e,t,n){},f620:function(e,t,n){"use strict";n("e1b2"),n("d340"),n("410d"),n("76e3")},f738:function(e,t,n){"use strict";var i=n("8694");t["a"]={"trim-text":{inserted:i["R"],componentUpdated:i["R"]}}}});
//# sourceMappingURL=index.16196b03.js.map